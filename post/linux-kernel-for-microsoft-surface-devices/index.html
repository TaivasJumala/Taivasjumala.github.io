<!doctype html><html lang=zh-cn data-theme=light><head><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#6667AB" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.111.3"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon.png><meta itemprop=name content="为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核"><meta itemprop=description content="为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://taivasjumala.me/imgs/Avatar.png"><meta itemprop=keywords content="打包相关,openSUSE,Linux,Surface"><meta property="og:type" content="article"><meta property="og:title" content="为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核"><meta property="og:description" content="为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核"><meta property="og:image" content="/imgs/Avatar.png"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="https://taivasjumala.me/post/linux-kernel-for-microsoft-surface-devices/"><meta property="og:site_name" content="Taivas Jumala"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Taivas Jumala"><meta property="article:published_time" content="2023-03-21 23:18:59 +0800 +0800"><meta property="article:modified_time" content="2023-03-21 23:18:59 +0800 +0800"><meta name=twitter:card content="summary_large_image"><meta name=twitter:creator content="<twitter:creator>"><meta name=twitter:description content="为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核"><meta name=twitter:image content="https://taivasjumala.me/imgs/Avatar.png"><meta name=twitter:title content="为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核"><meta name=twitter:site content="@<twitter:site>"><link rel=publisher href=#ZgotmplZ><meta property="fb:admins" content="<fb:admin_id>"><meta property="fb:app_id" content="<fb:app_id>"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.min.8644671f535d339cbacb305df4533e1a638df6ecb48da6ca7a9d00cba40a9e24.css><style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"--本文结束--"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":true,"isHome":false,"isPage":true,"path":"linux-kernel-for-microsoft-surface-devices","permalink":"https://taivasjumala.me/post/linux-kernel-for-microsoft-surface-devices/","title":"为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核"}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核 - Taivas Jumala</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label=切换导航栏 role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Taivas Jumala</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>知识是创造的艺术</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>2</span></a></li><li class="menu-item menu-item-flinks"><a href=/flinks.html class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>友链列表</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#缘起>缘起</a></li><li><a href=#安装指南>安装指南</a><ul><li><a href=#一准备>一、准备</a></li><li><a href=#二安装-opensuse-tumbleweed>二、安装 openSUSE Tumbleweed</a><ul><li><a href=#1-制作安装u盘>1. 制作安装U盘</a></li><li><a href=#2-压缩-windows-系统的分卷作为双系统安装>2. 压缩 Windows 系统的分卷（作为双系统安装）</a></li><li><a href=#3-修改-secure-boot-选项>3. 修改 Secure Boot 选项</a></li><li><a href=#4-修改启动顺序以使得能从u盘启动>4. 修改启动顺序以使得能从U盘启动</a></li><li><a href=#5-安装>5. 安装</a></li></ul></li><li><a href=#三安装内核>三、安装内核</a><ul><li><a href=#1-通过-opensuse-software-网页相关页面安装>1. 通过 openSUSE Software 网页相关页面安装</a></li><li><a href=#2-通过-zypper-命令行工具安装>2. 通过 Zypper 命令行工具安装</a></li><li><a href=#3-使用-obs-package-installer-opi>3. 使用 OBS Package Installer (OPI)</a></li></ul></li><li><a href=#之后>之后</a><ul><li><a href=#设置你的时钟为本地时间来解决双系统偏差>设置你的时钟为本地时间来解决双系统偏差</a></li><li><a href=#触控支持>触控支持</a></li></ul></li></ul></li><li><a href=#附录>附录</a><ul><li><a href=#特性表>特性表</a><ul><li><a href=#surface-tablets>Surface Tablets</a></li><li><a href=#surface-books-和-surface-laptop-studio>Surface Books 和 Surface Laptop Studio</a></li><li><a href=#surface-laptops>Surface Laptops</a></li><li><a href=#磁盘加密>磁盘加密</a></li><li><a href=#相机>相机</a></li><li><a href=#校准ipts>校准IPTS</a></li></ul></li></ul></li><li><a href=#尾声我需要帮助>尾声——我需要帮助</a></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt="Taivas Jumala" src=/imgs/img-lazy-loading.gif data-src=/imgs/Avatar.png><p class=site-author-name itemprop=name>Taivas Jumala</p><div class=site-description itemprop=description>Next is now.</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>2</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>1</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>4</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://instagram.com/taivas_jumala title="Instagram → https://instagram.com/taivas_jumala" rel=noopener target=_blank><i class="fab fa-instagram fa-fw"></i></a></span>
<span class=links-of-social-item><a href=https://github.com/Taivasjumala title="Github → https://github.com/Taivasjumala" rel=noopener target=_blank><i class="fab fa-github fa-fw"></i></a></span>
<span class=links-of-social-item><a href=https://www.zhihu.com/people/taivasjumalai title="知 乎 → https://www.zhihu.com/people/taivasjumalai" rel=noopener target=_blank><i class="fa-brands fa-zhihu fa-fw"></i></a></span>
<span class=links-of-social-item><a href=https://stackoverflow.com/users/15668592/taivasjumala title="StackOverflow → https://stackoverflow.com/users/15668592/taivasjumala" rel=noopener target=_blank><i class="fab fa-stack-overflow fa-fw"></i></a></span>
<span class=links-of-social-item><a href=https://twitter.com/TaivasJumala title="Twitter → https://twitter.com/TaivasJumala" rel=noopener target=_blank><i class="fab fa-twitter fa-fw"></i></a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate=2023-03-21T23:18:59+08:00></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=6342></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=14></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate=2023-03-22T10:24:33+08:00></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=goto-gtranslate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a>
<a href=https://github.com/Taivasjumala rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://taivasjumala.me/post/linux-kernel-for-microsoft-surface-devices/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/Avatar.png"><meta itemprop=name content="Taivas Jumala"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Taivas Jumala"><meta itemprop=description content="Next is now."></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核"><meta itemprop=description content="为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核"></span><header class=post-header><h1 class=post-title itemprop="name headline"><span class=post-sticky-flag title=置顶><i class="fa fa-thumbtack"></i>
</span>为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i></span>
<span class=post-meta-item-text>发表于：</span>
<time title="发表于：2023-03-21 23:18:59 +0800 +0800" itemprop="dateCreated datePublished" datetime="2023-03-21 23:18:59 +0800 +0800">2023-03-21</time></span>
<span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i></span>
<span class=post-meta-item-text>分类于：</span>
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/opensuse itemprop=url rel=index><span itemprop=name>openSUSE</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="far fa-file-word"></i></span>
<span class=post-meta-item-text>字数：</span><span>6341</span></span>
<span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="far fa-clock"></i></span>
<span class=post-meta-item-text>阅读：&ap;</span>
<span>13分钟</span></span>
<span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="far fa-eye"></i></span>
<span class=post-meta-item-text>浏览：</span>
<span id=busuanzi_value_page_pv data-path=/post/linux-kernel-for-microsoft-surface-devices/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><img title=封面 src=https://s2.loli.net/2023/03/21/J1ri27qkI9dwVUP.png alt=loading-ag-1874 data-align=center><h1 id=为-microsoft-surface1-设备准备的-opensuse-tumbleweed2-内核>为 Microsoft Surface<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> 设备准备的 openSUSE Tumbleweed<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> 内核</h1><blockquote><p>完成于 2023 年 3 月 20 日，该文章部分内容具有时效性，您看见此文章时本人可能已经不再维护，请联系 Github 和 Open Build Serivice 上相关页面甄别。</p></blockquote><h2 id=缘起>缘起</h2><p>简单来说，我拥有一台 Surface Book 1，我想在上面运行 openSUSE. 于是我搜寻到了
<a href=https://github.com/linux-surface/linux-surface title="linux surface" rel="noopener external nofollow noreferrer" target=_blank class=exturl>linux surface
<i class="fa fa-external-link-alt"></i>
</a>——一个由开源社区维护的 Surface 设备的 Linux 驱动。这些伟大的开发者为 Microsoft Surface 设备提供了相当关键的支持，使得它们得以更好与 Linux 操作系统一起帮助我们完成工作。文末的
<a href=#%e7%89%b9%e6%80%a7%e8%a1%a8 title=附录：特性表>附录：特性表
</a>将展示已经得到支持的特性。</p><p>然而，在我了解到这些工作时，只有
<a href=https://www.debian.org title=Debian rel="noopener external nofollow noreferrer" target=_blank class=exturl>Debian
<i class="fa fa-external-link-alt"></i>
</a>/
<a href=https://ubuntu.com title=Ubuntu rel="noopener external nofollow noreferrer" target=_blank class=exturl>Ubuntu
<i class="fa fa-external-link-alt"></i>
</a>、
<a href=https://getfedora.org/ title=Fedora rel="noopener external nofollow noreferrer" target=_blank class=exturl>Fedora
<i class="fa fa-external-link-alt"></i>
</a>、
<a href=https://archlinux.org title=Arch rel="noopener external nofollow noreferrer" target=_blank class=exturl>Arch
<i class="fa fa-external-link-alt"></i></a> 这几个主流的分发版和 Gentoo、NixOS 有比较好的支持。
<a href=https://www.opensuse.org title=openSUSE rel="noopener external nofollow noreferrer" target=_blank class=exturl>openSUSE
<i class="fa fa-external-link-alt"></i></a> 作为开源社区的一大贡献者，却在那
<a href=https://github.com/linux-surface/linux-surface/wiki/Installation-and-Setup title=安装和设置指南 rel="noopener external nofollow noreferrer" target=_blank class=exturl>安装和设置指南
<i class="fa fa-external-link-alt"></i>
</a>上缺少位置。为了方便我自己和其他用户，我决定在
<a href=https://openbuildservice.org title=开放构建服务 rel="noopener external nofollow noreferrer" target=_blank class=exturl>开放构建服务
<i class="fa fa-external-link-alt"></i></a> (Open Build Service) 上为 Tumbleweed 发行版构建打包相应的 Linux 内核。</p><h2 id=安装指南>安装指南</h2><p>本指南专为 openSUSE Tumbleweed 发行版撰写，也存在其他分发版的安装指南，请查阅
<a href=https://github.com/linux-surface/linux-surface/wiki/Installation-and-Setup title="Installation and Setup" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Installation and Setup
<i class="fa fa-external-link-alt"></i>
</a><sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>.</p><h3 id=一准备>一、准备</h3><p>你需要：</p><ul><li><p>一台支持的 Surface 设备，可以查看
<a href=#%e7%89%b9%e6%80%a7%e8%a1%a8 title=附录：特性表>附录：特性表
</a>。</p></li><li><p>一个 USB 作为安装媒介。</p></li><li><p>对于 Surface Laptop 产品线的设备，你还需要一把备用键盘。（可能的话，还需要鼠标和 USB 接口以便安装 Linux。）</p></li></ul><p>在开始之前，强烈建议通过 Windows 更新来更新所有 Windows 上的固件。这应该能解决许多硬件层面的缺陷。</p><h3 id=二安装-opensuse-tumbleweed>二、安装 openSUSE Tumbleweed</h3><blockquote><p>⚠️警告：</p><p>如果你计划使用磁盘加密(安装前也请注意你的 BitLocker<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>)或是已经使用了磁盘加密，请确保一些模块在你的初始 ram 文件系统中（参考
<a href=#%e7%a3%81%e7%9b%98%e5%8a%a0%e5%af%86 title=附录：磁盘加密>附录：磁盘加密
</a>中。也就是说，确保这些模块在磁盘加密解锁界面出现时被加载，否则你将会由于不能使用键盘无法解锁你的硬盘。</p><ul><li><p>和下面的注意事项一起阅读、处理非常重要，因为一些设备需要额外的设置。</p></li><li><p><a href=#%e7%a3%81%e7%9b%98%e5%8a%a0%e5%af%86 title=附录：磁盘加密>附录：磁盘加密
</a>的操作适用于已经安装了 Linux 系统的设备。如果想要在安装器的系统上启用磁盘加密，你需要调整操作并完成一些额外的任务</p></li><li><p>如果你想要之后再启用磁盘加密且，你必须要执行此步操作如果目前还没的话。</p></li></ul><p>📓注意：</p><p>每个设备都有自己的一些怪癖，需要进行一些额外调整。查看
<a href=https://github.com/linux-surface/linux-surface/wiki/Supported-Devices-and-Features title="Supported Devices and Features" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Supported Devices and Features
<i class="fa fa-external-link-alt"></i></a> 来寻求更多指导。你也许应该在安装前和安装之后都看一看其中的说明。</p></blockquote><h4 id=1-制作安装u盘>1. 制作安装U盘</h4><p>这部分内容可以遵循 openSUSE 的官方指导，一下是一些说明：</p><ul><li><p><a href=https://get.opensuse.org/tumbleweed/https://get.opensuse.org/tumbleweed/ title=官方下载渠道 rel="noopener external nofollow noreferrer" target=_blank class=exturl>官方下载渠道
<i class="fa fa-external-link-alt"></i></a></p></li><li><p><a href=https://zh.opensuse.org/SDB:%e5%88%b6%e4%bd%9c%e5%ae%89%e8%a3%85_U_%e7%9b%98 title=SDB:制作安装U盘 rel="noopener external nofollow noreferrer" target=_blank class=exturl>SDB:制作安装U盘
<i class="fa fa-external-link-alt"></i></a> openSUSE 中文 Wiki 的指导</p></li><li><p><a href=https://en.opensuse.org/Create_installation_USB_stick title="Create installation USB stick - openSUSE Wiki" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Create installation USB stick - openSUSE Wiki
<i class="fa fa-external-link-alt"></i></a> 英文维基</p></li><li><p><a href=https://opensuse-guide.ustclug.org/installation.php title=安装 rel="noopener external nofollow noreferrer" target=_blank class=exturl>安装
<i class="fa fa-external-link-alt"></i></a> 非官方的 openSUSE Leap 15.4 指南中的安装说明。</p></li></ul><p>我的个人理解：鉴于你有一台安装了 Windows 的 Surface 设备，
<a href=https://www.balena.io/etcher title=Etcher rel="noopener external nofollow noreferrer" target=_blank class=exturl>Etcher
<i class="fa fa-external-link-alt"></i></a> 是一个免费的开源实用工具，它傻瓜式的帮助你制作安装U盘，也经过了我的检验。</p><h4 id=2-压缩-windows-系统的分卷作为双系统安装>2. 压缩 Windows 系统的分卷（作为双系统安装）</h4><blockquote><p>如果你不想保留 Windows 操作系统，可以跳过此步。</p></blockquote><ol><li><p>按「Windows 徽标键+S」搜索「磁盘管理」或者前往「控制面板」→「系统和安全」→「Windows 工具」→「计算机管理」→「存储」→「磁盘管理」</p></li><li><p>右键 Windows 系统的分区并按你喜好压缩分卷（推荐最小保留 50GB）。</p></li></ol><p>对于 Surface Book 产品线的用户，双系统可能是一个比较好的选择，虽然通过此内核在 Linux 下仍能够分离屏幕和键盘，但是在 Linux 下无法解决的问题仍可能发生，参考
<a href=https://github.com/linux-surface/linux-surface/issues/93 title="Issue #93" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Issue #93
<i class="fa fa-external-link-alt"></i></a> 和
<a href=https://github.com/linux-surface/linux-surface/issues/1023 title="Issue #1023" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Issue #1023
<i class="fa fa-external-link-alt"></i>
</a>.</p><h4 id=3-修改-secure-boot-选项>3. 修改 Secure Boot 选项</h4><p>参考
<a href=https://support.microsoft.com/zh-cn/surface/%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8-surface-uefi-df2c8942-dfa0-859d-4394-95f45eb1c3f9 title="如何使用 Surface UEFI" rel="noopener external nofollow noreferrer" target=_blank class=exturl>如何使用 Surface UEFI
<i class="fa fa-external-link-alt"></i></a> 修改 Secure Boot 选项为 &ldquo;Microsoft & 3rd party CA&rdquo;, 具体参见「安全性」部分。</p><h4 id=4-修改启动顺序以使得能从u盘启动>4. 修改启动顺序以使得能从U盘启动</h4><p>参考3中的链接</p><h4 id=5-安装>5. 安装</h4><p><a href=https://opensuse-guide.ustclug.org/installation.php title=安装 rel="noopener external nofollow noreferrer" target=_blank class=exturl>安装
<i class="fa fa-external-link-alt"></i></a> 这里有安装界面的截图和过程步骤。</p><h3 id=三安装内核>三、安装内核</h3><p>经过前面的步骤后，在你的设备上应该有了可以启动的 Linux 发行版，但是在一些比较新的 Surface 设备上，目前会缺少很多特性。在这一步，你将安装打包好的内核。开发者们正努力让改变在上游实现。</p><p>在安装自定义内核之前，确保您没有安装了任何 Linux 内核源码树外的内核模块的DKMS版本(<code>zfs → zfs-DKMS</code>, <code>nvidia→ nvidia- DKMS</code>等)。否则，这些模块将无法与定制的 <code>linux-surface</code>内核一起工作。如果您不知道 <code>DKMS/akmod</code> 或<code>ZFS</code>是什么，或者不依赖于<code>ZFS</code>文件系统，您可以(很可能)忽略这一部分。基本操作所需的所有驱动程序都应该包含在内核本身中，任何外部内核模块都可以在以后安装。</p><blockquote><p>🛎️声明：</p><p>该内核由本人
<a href=https://github.com/Taivasjumala title=@Taivasjumala rel="noopener external nofollow noreferrer" target=_blank class=exturl>@Taivasjumala
<i class="fa fa-external-link-alt"></i></a> 维护且需要各位来当一波小白鼠。如果你遇到了问题欢迎到 Open Build Service 上的
<a href=https://build.opensuse.org/package/show/home:TaivasJumala:Surface/kernel-source title=kernel-source rel="noopener external nofollow noreferrer" target=_blank class=exturl>kernel-source
<i class="fa fa-external-link-alt"></i></a> 页面的评论区反馈，在知乎的评论区反馈可能因为时效性不能很好的得到解答。如果通过 Github Issues 反馈 openSUSE 内核相关问题请@我。</p><p>Open Build Service (OSC) 上的内核设置与每当上游（ Tumbleweed 内核源码）保存同步并自动构建此内核包以保持更新。但是，&ldquo;linux-surface"部分代码被打包在 <code>patches.addon</code> （你可以阅读
<a href="https://build.opensuse.org/package/view_file/home:TaivasJumala:Surface/kernel-source/README.SUSE?expand=1" title=该文件 rel="noopener external nofollow noreferrer" target=_blank class=exturl>该文件
<i class="fa fa-external-link-alt"></i>
</a>的第 385 行了解我们的 <code>patch</code> 是如何添加的），通常的更新应该工作良好，只是要在有一个新的&rdquo;
<a href=https://github.com/linux-surface/linux-surface/issues/96 title="Announcements and updates" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Announcements and updates
<i class="fa fa-external-link-alt"></i>
</a>&ldquo;时，小心地进行内核更新。因为我可能不会将这些变化那么快地应用到我们的内核中。所以强烈建议订阅相关通知（通过侧栏的 &ldquo;Notifications&rdquo; 项目，我亦通过该方式保持接收通知来维护此内核）。</p></blockquote><p>我们有三种方式安装定制的内核。</p><h4 id=1-通过-opensuse-software-网页相关页面安装>1. 通过 openSUSE Software 网页相关页面安装</h4><p>访问
<a href="https://software.opensuse.org/package/kernel-default?locale=zh_CN" title=kernel-default rel="noopener external nofollow noreferrer" target=_blank class=exturl>kernel-default
<i class="fa fa-external-link-alt"></i></a> 页面，请查看「发行版 - openSUSE Tumbleweed」中选择点击「显示社区软件包」并找到
<a href=https://build.opensuse.org/package/show/home%3ATaivasJumala%3ASurface/kernel-default title=home:TaivasJumala:Surface rel="noopener external nofollow noreferrer" target=_blank class=exturl>home:TaivasJumala:Surface
<i class="fa fa-external-link-alt"></i></a> 项目，点击一键安装进行安装。之后会下载一个一键安装器，运行后将会自动安装。</p><h4 id=2-通过-zypper-命令行工具安装>2. 通过 Zypper 命令行工具安装</h4><p>通过 URL 添加仓库：</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>sudo zypper addrepo https://download.opensuse.org/repositories/home:/TaivasJumala:/Surface/openSUSE_Tumbleweed/home:TaivasJumala:Surface.repo
</span></span></code></pre></div><p>安装软件包：</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>sudo zypper install -r <span style=color:#b8bb26>&#39;Linux Surface (openSUSE_Tumbleweed)&#39;</span> kernel-default
</span></span></code></pre></div><p>上述操作亦可通过 <code>yast</code> 提供的 GUI 界面执行对应的操作完成。</p><h4 id=3-使用-obs-package-installer-opi>3. 使用 OBS Package Installer (OPI)</h4><p>你可以查看 <code>OPI</code> 的
<a href=https://github.com/openSUSE/opi title="Github 仓库" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Github 仓库
<i class="fa fa-external-link-alt"></i>
</a>了解相关信息，这里仅说明如何使用。</p><p>安装 OPI：</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>sudo zypper install opi
</span></span></code></pre></div><p>安装 <code>kernel-default</code></p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>opi kernel-default
</span></span></code></pre></div><p>这时它会要求你通过数字选择要安装的软件包（这里可能是<code>1</code> 并按回车），然后键入 <code>home:TaivasJumala:Surface !</code> 前的数字并按回车开始安装。</p><p>安装后它会询问你是否保留提供软件包的仓库，这里我们可以选择保留以便得到未来的更新。如果你错过了也没关系，你可以使用方法2中的做法来添加仓库。</p><p>此外，你可能想查看 <code>yast</code> 中 <code>引导加载器</code> 的设置来确保用上了新的内核。特别是当你设置了引导加载程序选项中的超时为 <code>0</code> 时且又没有修改默认引导项。同时我还建议出于安全原因保留原来的内核，以免紧急情况没无法正常的启动。</p><p>openSUSE 支持 secure boot（这也是我们在 UEFI 中修改 Secure Boot 选项的原因）。你安装后的第一次启动会需要选择 <code>Enroll MOK</code> 并输入你 <code>root</code> 用户密码。</p><h3 id=之后>之后</h3><p><strong>恭喜你！</strong> 现在你有了一台运行 Linux 的 Surface 设备。</p><p>在你完成了安装步骤之后，以下事项是你应该考虑的：</p><ul><li><p>正如我所做的一样，你也许该考虑订阅
<a href=https://github.com/linux-surface/linux-surface/issues/96 title="Announcements and updates" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Announcements and updates
<i class="fa fa-external-link-alt"></i>
</a>. 例如，在
<a href=https://github.com/linux-surface/linux-surface/issues/96#issuecomment-1465237502 title="Changes in v6.1.18 / v6.2.5" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Changes in v6.1.18 / v6.2.5
<i class="fa fa-external-link-alt"></i></a> 中， <code>atomisp</code> 导致了一台 Surface 3 设备无法启动，开发者们暂时停用了它。基于稳定性的考量，你也应该了解最新的变化。</p></li><li><p>由 <code>mwifiex</code> 导致的无线问题在最近的内核中应该会显著减少，如果仍然遇到问题，可以参考（暂无翻译）：</p><ul><li><a href=https://github.com/linux-surface/linux-surface/wiki/Marvell-88W8897-quirks title="Marvell 88W8897 Quirks" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Marvell 88W8897 Quirks
<i class="fa fa-external-link-alt"></i></a></li><li><a href=https://github.com/linux-surface/linux-surface/wiki/Known-Issues-and-FAQ title="Known Issues and FAQ" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Known Issues and FAQ
<i class="fa fa-external-link-alt"></i></a></li></ul></li><li><p>如果声音质量不好，你大概率需要调整位于<code>/etc/pulse/daemon.conf</code> 的 Pulse Audio 设置，并设置 <code>speex-float-5</code> .</p></li><li><p>一下额外的软件包你可能感兴趣：</p><ul><li><a href=https://github.com/linux-surface/iptsd title="<code>iptsd</code>" rel="noopener external nofollow noreferrer" target=_blank class=exturl><code>iptsd</code>
<i class="fa fa-external-link-alt"></i></a> 提供笔的支持，目前需要从源码编译</li><li><a href=https://github.com/linux-surface/libwacom-surface title="<code>libwacom-surface</code>" rel="noopener external nofollow noreferrer" target=_blank class=exturl><code>libwacom-surface</code>
<i class="fa fa-external-link-alt"></i></a> gnome 环境下提供更好的笔和触控支持，目前需要从源码编译。</li></ul><p>如果你使用 Surface Book 2:</p><ul><li><a href=https://github.com/linux-surface/surface-dtx-daemon title="<code>surface-dtx-daemon</code>" rel="noopener external nofollow noreferrer" target=_blank class=exturl><code>surface-dtx-daemon</code>
<i class="fa fa-external-link-alt"></i></a> 允许你更好的控制屏幕键盘分离，目前需要从源码编译。</li><li><a href=https://github.com/linux-surface/surface-control title="<code>surface-control</code>" rel="noopener external nofollow noreferrer" target=_blank class=exturl><code>surface-control</code>
<i class="fa fa-external-link-alt"></i></a> 允许你更好地控制独显，目前需要从源码编译。</li></ul></li><li><p>对相机的支持仍在进行中。一些设备（特别是 Surface Book and Book 2, Pro 4, 5, and 6, 以及 Go 和 Go 2 设备）需要你编译并安装
<a href=https://libcamera.org title="<code>libcamera</code>" rel="noopener external nofollow noreferrer" target=_blank class=exturl><code>libcamera</code>
<i class="fa fa-external-link-alt"></i></a> (
<a href=https://github.com/linux-surface/linux-surface/wiki/Camera-Support title=相关步骤 rel="noopener external nofollow noreferrer" target=_blank class=exturl>相关步骤
<i class="fa fa-external-link-alt"></i>
</a>). 具体支持的设备请查看
<a href=#%e7%9b%b8%e6%9c%ba title=附录：相机>附录：相机</a> 。想了解更多，你可以查看正在进行的讨论
<a href=https://github.com/linux-surface/linux-surface/issues/91 title="Camera support #91" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Camera support #91
<i class="fa fa-external-link-alt"></i>
</a>.</p></li></ul><h4 id=设置你的时钟为本地时间来解决双系统偏差>设置你的时钟为本地时间来解决双系统偏差</h4><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>sudo timedatectl set-local-rtc <span style=color:#d3869b>1</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>sudo hwclock --systohc --localtime
</span></span></code></pre></div><h4 id=触控支持>触控支持</h4><p>在一些比较旧的设备上的触摸屏被称作 Intel Precise Touch & Stylus （简称 IPTS）。新一些的设备则称作 Intel Touch Host Controller（简称 ITHC）。除了 Go 产品线，从 Surface Pro 4开始的所有基于英特尔的设备都使用 IPTS 或 ITHC.</p><p>为了校准你的屏幕，你可以查看
<a href=#%e6%a0%a1%e5%87%86IPTS title="附录：校准 IPTS">附录：校准 IPTS
</a>。</p><p>如果你想要使用触屏手势（触摸滚动，缩放等），你需要知道一些基本知识：</p><ul><li><p>您应该确保运行的是 Wayland 桌面会话，而不是 X11/Xorg 会话。Wayland 有对触摸输入的原生支持，而 Xorg 本质上是在你触摸屏幕时模拟鼠标指针。您可以在系统的登录屏幕上选择会话类型。</p></li><li><p>重要的是，您的应用程序也要在 Wayland 上运行。如果桌面运行在 Wayland 上，但应用程序使用 XWayland 兼容层，X11 协议再次成为限制因素。要检查应用程序是否运行在 X11 或 Wayland 上，请在终端窗口中运行 xkill，然后单击应用程序的窗口。如果它关闭，应用程序运行在 X11 上，如果什么都没有发生，它运行在 Wayland 上。</p></li><li><p>手势功能都依赖于你正在运行的软件。这包括应用程序（如 Firefox）和桌面环境（如GNOME）。驱动程序只能向应用程序提供一组输入坐标。默认情况下，系统的行为把你的一次触摸算作一次鼠标点击，或者当你单指拖拽时算作使用鼠标拖拽。</p></li></ul><h5 id=firefox>Firefox</h5><p>如果 Firefox 运行在 Wayland 上，它默认支持触摸输入。如果您正在运行一个 Wayland 会话，请将 <code>MOZ_ENABLE_WAYLAND=1</code> 添加到 <code>/etc/environment</code> （一些发行版默认这样做）。如果正在运行 X11 会话，则可以使用 <code>MOZ_USE_XINPUT2=1</code>. 为了改善缩放行为，你可以在 <code>about:config</code> 页面启用 <code>apz.allow_zoom</code>.</p><h5 id=visual-studio-code>Visual Studio Code</h5><p>使用命令行时添加 <code>--touch-events</code>. 另一种方法是编辑 <code>/usr/share/applications/code.desktop</code> 并在 <code>Exec</code> 行中添加改选项</p><p>这可能也适用于其他基于 Electron 的应用程序。</p><h2 id=附录>附录</h2><p>附录内容翻译时间：2023-03-20</p><h3 id=特性表>特性表</h3><p>不是所有的特性在每台设备上都实现了。详细请查看
<a href=https://github.com/linux-surface/linux-surface/wiki/Supported-Devices-and-Features title="Supported Devices and Features" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Supported Devices and Features
<i class="fa fa-external-link-alt"></i></a></p><ul><li><code>✓</code> - 该特性得到了支持。</li><li><code>?</code> - 未知，你可以自行更新检查。</li><li><code>❌</code> - 该特性未被支持切不会工作。</li><li><code>N/A</code> - 该特性设备本身就不支持。</li><li><code>🧪</code> - 实验中。该特性目前由实验性代码支持。</li></ul><h4 id=surface-tablets>Surface Tablets</h4><table><thead><tr><th><strong>设备</strong></th><th><strong>S3</strong></th><th><strong>SGO</strong></th><th><strong>SGO2</strong></th><th><strong>SGO3</strong></th><th><strong>SP1</strong></th><th><strong>SP2</strong></th><th><strong>SP3</strong></th><th><strong>SP4</strong></th><th><strong>SP5</strong></th><th><strong>SP6</strong></th><th><strong>SP7</strong></th><th><strong>SP7+</strong></th><th><strong>SP8</strong></th><th><strong>SP9(I)¹⁹</strong></th></tr></thead><tbody><tr><td>键盘</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓¹</td><td>✓¹</td></tr><tr><td>触摸板</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓¹</td><td>✓¹</td></tr><tr><td>平板模式</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓¹</td></tr><tr><td>触摸屏</td><td>✓⁵</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td></tr><tr><td>笔</td><td>✓⁵</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td></tr><tr><td>WiFi</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>LTE</td><td>✓⁵</td><td>✓⁷</td><td>✓⁷</td><td>✓⁷</td><td>N/A</td><td>N/A</td><td>N/A</td><td>N/A</td><td>✓⁷</td><td>N/A</td><td>N/A</td><td>✓</td><td>✓</td><td>N/A</td></tr><tr><td>蓝牙</td><td>✓¹⁵</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓¹⁵</td><td>✓¹⁵</td><td>✓¹⁵</td><td>✓¹⁵</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>喇叭</td><td>✓⁵</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>按钮</td><td>✓</td><td>✓</td><td>✓</td><td>✓¹</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓²</td><td>✓²</td><td>✓</td><td>✓¹</td></tr><tr><td>SD 卡读取器</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>N/A</td><td>N/A</td></tr><tr><td>待机 (Suspend)</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>休眠(Hibernate)</td><td>✓¹</td><td>✓</td><td>?</td><td>❌</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>?</td><td>✓¹⁹</td></tr><tr><td>S0ix³</td><td>✓</td><td>?</td><td>✓</td><td>✓</td><td>N/A</td><td>N/A</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>?</td><td>✓</td><td>✓²¹</td></tr><tr><td>传感器</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>?</td><td>✓¹⁷</td><td>?</td></tr><tr><td>电池状态</td><td>✓⁵</td><td>✓</td><td>✓</td><td>✓¹</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓⁸</td><td>✓⁸</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td></tr><tr><td>性能模式</td><td>❌</td><td>❌</td><td>❌</td><td>✓</td><td>❌</td><td>❌</td><td>❌</td><td>❌</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td></tr><tr><td>相机</td><td>❌</td><td>¹⁰</td><td>¹⁰</td><td>¹⁰</td><td>✓</td><td>✓</td><td>✓</td><td>¹⁰</td><td>¹⁰</td><td>¹⁰</td><td>❌</td><td>❌</td><td>❌</td><td>❌</td></tr></tbody></table><h4 id=surface-books-和-surface-laptop-studio>Surface Books 和 Surface Laptop Studio</h4><table><thead><tr><th><strong>设备</strong></th><th><strong>SB</strong></th><th><strong>SB2</strong></th><th><strong>SB3</strong></th><th><strong>SLS</strong></th></tr></thead><tbody><tr><td>键盘</td><td>✓</td><td>✓</td><td>✓⁹</td><td>✓⁹</td></tr><tr><td>触摸板</td><td>✓</td><td>✓</td><td>✓⁹</td><td>✓¹²</td></tr><tr><td>平板模式</td><td>✓</td><td>✓</td><td>✓</td><td>✓¹⁶</td></tr><tr><td>触摸屏</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td></tr><tr><td>笔</td><td>✓¹</td><td>✓¹</td><td>✓¹</td><td>✓¹</td></tr><tr><td>WiFi</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>蓝牙</td><td>✓¹⁵</td><td>✓¹⁵</td><td>✓</td><td>✓</td></tr><tr><td>喇叭</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>按钮</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>SD 卡读取器</td><td>✓</td><td>✓</td><td>✓</td><td>N/A</td></tr><tr><td>待机</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>休眠</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>S0ix ³</td><td>?</td><td>✓¹</td><td>?</td><td>✓</td></tr><tr><td>传感器</td><td>✓</td><td>✓</td><td>?</td><td>✓</td></tr><tr><td>电量状态</td><td>✓</td><td>✓⁸</td><td>✓⁹</td><td>✓⁹</td></tr><tr><td>性能模式</td><td>❌</td><td>✓⁸</td><td>✓⁹</td><td>✓⁹</td></tr><tr><td>独显</td><td>✓¹</td><td>✓⁹</td><td>✓⁹</td><td>✓</td></tr><tr><td>相机</td><td>¹⁰</td><td>¹⁰</td><td>❌</td><td>✓</td></tr></tbody></table><h4 id=surface-laptops>Surface Laptops</h4><table><thead><tr><th><strong>设备</strong></th><th><strong>SL</strong></th><th><strong>SL2</strong></th><th><strong>SL3(A)</strong></th><th><strong>SL3(I)</strong></th><th><strong>SL4(A)</strong></th><th><strong>SL4(I)</strong></th><th><strong>SL5¹⁹</strong></th><th><strong>SLG</strong></th><th><strong>SLG2</strong></th><th><strong>SLSE</strong></th></tr></thead><tbody><tr><td>键盘</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓²⁰</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>触摸板</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓²⁰</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>触摸屏</td><td>✓¹</td><td>✓¹</td><td>❌</td><td>✓¹</td><td>❌</td><td>✓¹</td><td>✓¹</td><td>✓</td><td>✓</td><td>N/A</td></tr><tr><td>笔</td><td>✓¹</td><td>✓¹</td><td>❌</td><td>✓¹</td><td>❌</td><td>✓¹</td><td>✓¹</td><td>N/A</td><td>N/A</td><td>N/A</td></tr><tr><td>WiFi</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>?</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>蓝牙</td><td>✓¹⁵</td><td>✓¹⁵</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>?</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>喇叭</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>?</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>按钮</td><td>✓</td><td>✓</td><td>✓²</td><td>✓²</td><td>✓¹</td><td>✓¹</td><td>?</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>待机</td><td>✓</td><td>✓</td><td>⁴</td><td>✓</td><td>?</td><td>?</td><td>¹⁹</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>休眠</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>?</td><td>?</td><td>?</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>S0ix³</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓¹¹</td><td>?</td><td>?</td><td>✓</td><td>✓</td><td>?</td></tr><tr><td>传感器</td><td>✓</td><td>✓</td><td>✓</td><td>❌</td><td>✓</td><td>?</td><td>?</td><td>✓</td><td>✓</td><td>✓</td></tr><tr><td>电量状态ţ</td><td>✓⁸</td><td>✓⁸</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓</td><td>✓⁹</td><td>✓¹⁸</td><td>✓</td></tr><tr><td>性能模式</td><td>✓⁸</td><td>✓⁸</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓⁹</td><td>✓²⁰</td><td>✓⁹</td><td>✓¹⁸</td><td>?</td></tr><tr><td>相机</td><td>❌</td><td>❌</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td><td>✓</td></tr></tbody></table><ul><li>¹ 需要 Linux-Surface 内核</li><li>² 需要 Linux 5.4+ （包括 Ubuntu 20.04+ （此前的版本不确定）</li><li>³ 也被称作「现代待机」(&ldquo;Modern Standby&rdquo; / &ldquo;Connected Standby&rdquo;)</li><li>⁴
<a href=https://github.com/archseer/arch-linux-surface/issues/4 title=待机，但是只会唤醒外置键盘 rel="noopener external nofollow noreferrer" target=_blank class=exturl>待机，但是只会唤醒外置键盘
<i class="fa fa-external-link-alt"></i></a></li><li>⁵ 访问
<a href=https://github.com/linux-surface/linux-surface/wiki/Surface-3 title="Surface 3" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Surface 3
<i class="fa fa-external-link-alt"></i></a> 查看详情</li><li>⁷ 查看
<a href=https://github.com/linux-surface/linux-surface/wiki/Surface-Go-2#enabling-the-lte-modem title=此页 rel="noopener external nofollow noreferrer" target=_blank class=exturl>此页
<i class="fa fa-external-link-alt"></i></a> 查看设置信息</li><li>⁸ 需要 Linux 5.12+ 或 Linux-Surface 内核</li><li>⁹ 需要 linux 5.13+ 或 Linux-Surface 内核</li><li>¹⁰
<a href=https://github.com/linux-surface/linux-surface/wiki/Camera-Support title=相机支持正在开发中 rel="noopener external nofollow noreferrer" target=_blank class=exturl>相机支持正在开发中
<i class="fa fa-external-link-alt"></i></a></li><li>¹¹ 部分支持且需要额外补丁
<a href=https://github.com/linux-surface/linux-surface/issues/458 title=#458 rel="noopener external nofollow noreferrer" target=_blank class=exturl>#458
<i class="fa fa-external-link-alt"></i></a></li><li>¹² 需要一些对 <code>libinput</code> 的额外操作。 查看
<a href=https://github.com/linux-surface/linux-surface/wiki/Surface-Laptop-Studio#touchpad-quirks title=这里 rel="noopener external nofollow noreferrer" target=_blank class=exturl>这里
<i class="fa fa-external-link-alt"></i>
</a>获得详细信息。</li><li>¹⁵ Marvell Wi-Fi/蓝牙芯片有硬件上的缺陷，如果蓝牙或者任何低电量设备配对（不是连接）那么系统的低电量设置将不会生效。 为了最好的电池寿命，确保不要配对任何的低电量蓝牙设备（包括 Surface Pen）。</li><li>¹⁶ 需要 Linux-Surface 内核 ≥ 5.18.4</li><li>¹⁷ 需要 Linux-Surface 内核 ≥ 5.18.7</li><li>¹⁸ 需要 Linux-Surface 内核 ≥ 5.18.10</li><li>¹⁹ 对于 12 代因特尔设备有一些会影响到很多搭载那代芯片的 Surface 设备，参考
<a href=https://github.com/linux-surface/linux-surface/wiki/Intel-12th-Generation-Devices-Issues title=Intel-12th-Generation-Devices-Issues rel="noopener external nofollow noreferrer" target=_blank class=exturl>Intel-12th-Generation-Devices-Issues
<i class="fa fa-external-link-alt"></i></a> 获取更多的信息。</li><li>²⁰ 需要 Linux-Surface 内核 ≥ 6.0.8-3</li><li>²¹ s0ix 的表现运行时屏幕关闭的时候相当差劲在（由
<a href=https://github.com/intel/S0ixSelftestTool title=S0ixSelftestTool rel="noopener external nofollow noreferrer" target=_blank class=exturl>S0ixSelftestTool
<i class="fa fa-external-link-alt"></i></a> 测试）</li></ul><h4 id=磁盘加密>磁盘加密</h4><p>在键盘通过 Surface Aggregator Module 连接的设备上，即 Surface Laptop 2、3和4，Surface Book 3 以及 Surface Laptop Studio，您需要确保所需的驱动程序包含在 initramfs/initrd 中。</p><p>要做到这一点，你需要确保 <code>initramfs/initrd</code> 中包含以下模块（例如，通过查看 <code>mkinitcpio.conf</code>或类似的内容，这取决于你使用的发行版）：</p><ul><li><code>surface_aggregator</code>, <code>surface_aggregator_registry</code>, <code>surface_aggregator_hub</code>, <code>surface_hid_core</code></li><li><code>8250_dw</code> （用于和嵌入式控制器通信）</li></ul><p>取决于你的 Surface 型号</p><ul><li><code>surface_hid</code> （Surface Laptop 3/Surface Book 3 或是更新的设备）</li><li><code>surface_kbd</code> (Surface Laptop 1 and 2).</li></ul><p>根据编译进的 GPIO 支持, 你可能还需要包括以下模块：</p><ul><li><code>pinctrl_amd</code> （仅对 AMD 型号）</li><li><code>intel_lpss</code> 和 <code>intel_lpss_pci</code> （仅对 Intel 型号）</li><li><code>pinctrl_icelake</code> 对于 Ice Lake 的 Intel CPU (Surface Laptop 3/Surface Book 3)</li><li><code>pinctrl_tigerlake</code> 对于 Tiger Lake 的 Intel CPUs (Surface Laptop 4/Surface Laptop Studio)</li></ul><p>要强调的一点是所有重新构建 <code>initramfs</code> 的操作都要在从 Linux-Surface 内核上启动的系统上进行。</p><h4 id=相机>相机</h4><p>即使被标注为✅支持，成像质量也许还并不那么好。算法还处在调整中，也许甚至还需要一些针对相机的专门调整。</p><table><thead><tr><th>Device</th><th>ISP</th><th>Front</th><th>Back</th><th>IR</th></tr></thead><tbody><tr><td>Surface Go</td><td>IPU3</td><td>OV5693 ✅</td><td>OV8865 ✅</td><td>OV7251 🚫</td></tr><tr><td>Surface Go 2</td><td>IPU3</td><td>OV5693 ✅</td><td>OV8865 ✅</td><td>OV7251 🚫</td></tr><tr><td>Surface Go 3</td><td>IPU3</td><td>OV5693 ✅</td><td>OV8865 ✅</td><td>OV7251 🚫</td></tr><tr><td>Surface Pro 4</td><td>IPU3</td><td>OV5693 ✅</td><td>OV8865 ✅</td><td>OV7251 🚫</td></tr><tr><td>Surface Pro 5</td><td>IPU3</td><td>OV5693 ✅</td><td>OV8865 ✅</td><td>OV7251 🚫</td></tr><tr><td>Surface Pro 6</td><td>IPU3</td><td>OV5693 ✅</td><td>OV8865 ✅</td><td>OV7251 🚫</td></tr><tr><td>Surface Pro 7</td><td>IPU4</td><td>OV5693 🚫</td><td>OV8865 🚫</td><td>OV7251 🚫</td></tr><tr><td>Surface Book 1</td><td>IPU3</td><td>OV5693 ✅</td><td>OV8865 ✅</td><td>OV7251 🚫</td></tr><tr><td>Surface Book 2 13&rdquo;</td><td>IPU3</td><td>OV5693 ✅</td><td>OV8865 ✅</td><td>OV7251 🚫</td></tr><tr><td>Surface Book 3</td><td>IPU4</td><td>OV5693 🚫</td><td>OV8865 🚫</td><td>OV7251 🚫</td></tr><tr><td>Surface Laptop 1</td><td>IPU3</td><td>OV9734 🚫</td><td>N/A</td><td>OV7251 🚫</td></tr><tr><td>Surface Laptop 2</td><td>IPU3</td><td>OV9734 🚫</td><td>N/A</td><td>OV7251 🚫</td></tr><tr><td>Surface Laptop 3 15" AMD</td><td></td><td>OV5693 ✅</td><td>N/A</td><td>OV7251 ✅</td></tr></tbody></table><p>Surface Pro 7 和 the Surface Book 3 因为使用 IPU4 目前无法被支持。</p><h4 id=校准ipts>校准IPTS</h4><p><code>iptsd</code> 的手掌误触识别依赖于测量每个接触的大小和纵横比，然后将这些值与参考进行比较，以确定接触是否有效。默认值将试图覆盖大多数人的手掌大小，但可以（并且建议）调整这些值以更好地匹配您的手掌。这也将进一步改善手指不识别现象。</p><p>值得校准的值有:</p><p><code>SizeMin</code>（默认值:0.2 cm）</p><p><code>SizeMax</code>（默认值:2.0 cm）</p><p><code>AspectMin</code>（默认值:1.0）</p><p><code>AspectMax</code>（默认值:2.5）</p><p>要校准 <code>iptsd</code>，您需要测量自己手指的大小，然后将这些值输入守护进程的配置文件。等等！在你离开并拿起一把尺子(或者只是离开)之前。为了使测量更容易，<code>iptsd</code>包含了一个工具<code>iptsd-calibrate</code>，可以为您进行这些测量。</p><p>你要做的第一件事就是停止 <code>iptsd</code> :</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl stop <span style=color:#b8bb26>&#39;iptsd@*.service&#39;</span>
</span></span></code></pre></div><p>然后运行测量工具：</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>sudo iptsd-calibrate <span style=color:#fe8019>$(</span>sudo iptsd-find-hidraw<span style=color:#fe8019>)</span>
</span></span></code></pre></div><p>你会看见类似于：</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[17:46:55.678] [info] Connected to device 045E:0021
</span></span><span style=display:flex><span>[17:46:55.678] [info] Samples: 0
</span></span><span style=display:flex><span>[17:46:55.678] [info] Size:    0.000 (Min: 0.000; Max: 0.000)
</span></span><span style=display:flex><span>[17:46:55.678] [info] Aspect:  0.000 (Min: 0.000; Max: 0.000)
</span></span></code></pre></div><p>只要你触摸显示器，<code>iptsd</code> 就会更新一次数值。现在可以开始实际的校准过程。用每根手指触摸屏幕，一次用力按压，一次轻轻按压。然后把你所有的手指同时放在显示器上。你还应该做一些常用的手势，比如用三根或四根手指捏缩放或在屏幕上滑动，因为手势往往会使接触变形。如果你只是将手指直直地按在显示器上，<code>iptsd</code> 可以很好地检测到触摸，但无法检测到手势。</p><p>没有必要进行长时间的接触。长时间保持手指在显示器上不会提高校准精度，因为你只需要一个最小值和最大值。但它有可能在校准过程中引入噪声，这会扭曲最小/最大值。3000 到 4000 个样本应该足够了。</p><blockquote><p>🛎️注意：在校准过程中，防手掌误触功能被关闭，所以你不应该把你的手掌放到屏幕上，如果可以的话，把你的屏幕与键盘分离。</p></blockquote><p>当你完成校准过程后，你会在你的终端看到类似于：</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>[17:46:55.678] [info] Connected to device 045E:0021
</span></span><span style=display:flex><span>[17:46:57.186] [info] Samples: 3629
</span></span><span style=display:flex><span>[17:46:57.186] [info] Size:    0.636 (Min: 0.425; Max: 0.859)
</span></span><span style=display:flex><span>[17:46:57.187] [info] Aspect:  1.298 (Min: 1.021; Max: 2.323)
</span></span></code></pre></div><p>的内容，在这种情况下新的值将会是：</p><ul><li><code>SizeMin</code>: 0.425 cm</li><li><code>SizeMax</code>: 0.859 cm</li><li><code>AspectMin</code>: 1.021</li><li><code>AspectMax</code>: 2.323</li></ul><p>新建一个文件 <code>/etc/iptsd.d/90-calibration.conf</code>, 并输入类似于以下的内容：</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-toml data-lang=toml><span style=display:flex><span>[Contacts]
</span></span><span style=display:flex><span>SizeMin = <span style=color:#d3869b>0.425</span>
</span></span><span style=display:flex><span>SizeMax = <span style=color:#d3869b>0.859</span>
</span></span><span style=display:flex><span>AspectMin = <span style=color:#d3869b>1.021</span>
</span></span><span style=display:flex><span>AspectMax = <span style=color:#d3869b>2.323</span>
</span></span></code></pre></div><p>结束之后，你可以重启 <code>iptsd</code> 并试一试你新校准的值。</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl start <span style=color:#fe8019>$(</span>sudo iptsd-find-service<span style=color:#fe8019>)</span>
</span></span></code></pre></div><p>如果你发现 <code>iptsd</code> 没有识别到某个手势或接触，你应该重复这一过程并只做有问题的手势。并比较新旧数值，最后做相应调整。</p><h2 id=尾声我需要帮助>尾声——我需要帮助</h2><p>我需要一些打包方面的帮助，<code>iptsd</code> 是一个非常有用的包，但是我打包它的时候遇到了一些困难，主要是由于 OBS 无法下载 <code>microsoft-gsl</code> 库而我打包 <code>microsoft-gsl</code> 库也遇到了困难造成的。如果你有兴趣，你可以看看 OBS 上的
<a href=https://build.opensuse.org/project/show/home:TaivasJumala:Surface title=home:TaivasJumala:Surface rel="noopener external nofollow noreferrer" target=_blank class=exturl>home:TaivasJumala:Surface
<i class="fa fa-external-link-alt"></i>
</a>.</p><img title="Linux for Open Minds" src=https://s2.loli.net/2023/03/21/f2A7uUDWtdglnFe.png alt=loading-ag-5466 data-align=center><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.microsoftstore.com.cn/hardware/surface title="Microsoft Surface 设备" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Microsoft Surface 设备
<i class="fa fa-external-link-alt"></i>
</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://zh.opensuse.org/Portal:Tumbleweed title="Portal:Tumbleweed - openSUSE Wiki" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Portal:Tumbleweed - openSUSE Wiki
<i class="fa fa-external-link-alt"></i>
</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>根据我在 Linux-Surface Dev 频道与开发者沟通的说法，未来有想法更新 Wiki 以提高可读性。同时，目前的页面组织方式不适合提供多语言指导，也是暂时在此处发布中文说明的原因。&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>以下资料或许能帮助你解决 BitLocker 造成的困扰：</p><p><a href=https://learn.microsoft.com/zh-CN/windows/security/information-protection/bitlocker/bitlocker-overview title="BitLocker | Microsoft Learn" rel="noopener external nofollow noreferrer" target=_blank class=exturl>BitLocker | Microsoft Learn
<i class="fa fa-external-link-alt"></i></a></p><p><a href=https://support.microsoft.com/zh-cn/windows/%e5%9c%a8-windows-%e4%b8%ad%e6%9f%a5%e6%89%be-bitlocker-%e6%81%a2%e5%a4%8d%e5%af%86%e9%92%a5-6b71ad27-0b89-ea08-f143-056f5ab347d6 title="在 Windows 中查找 BitLocker 恢复密钥" rel="noopener external nofollow noreferrer" target=_blank class=exturl>在 Windows 中查找 BitLocker 恢复密钥
<i class="fa fa-external-link-alt"></i>
</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><div class=post-tags><a href=/tags/%e6%89%93%e5%8c%85%e7%9b%b8%e5%85%b3>打包相关</a>
<a href=/tags/opensuse>openSUSE</a>
<a href=/tags/linux>Linux</a>
<a href=/tags/surface>Surface</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right><ul><li class=post-copyright-title><strong>文章标题：</strong>
为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核</li><li class=post-copyright-author><strong>原文作者：</strong>
Taivas Jumala</li><li class=post-copyright-link><strong>原文链接：</strong>
<a target=_blank href title="为 Microsoft Surface 设备准备的 openSUSE Tumbleweed 内核">https://www.taivasjumala.me/post/linux-kernel-for-microsoft-surface-devices</a></li><li class=post-copyright-license><strong>版权声明：</strong>
本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=https://twitter.com/TaivasJumal><span class=icon><i class="fab fa-twitter"></i></span>
<span class=label>Twitter</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"></div><div class="post-nav-prev post-nav-item"><a href=/post/test/ rel=prev title=Test>Test
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div id=comments class=post-comments><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i>
<span>评论交流</span></div></div><div class=comment-wrap><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=utterances-container></div></div></div></div></div></main><footer class=footer><div class=footer-inner><div id=gtranslate class=google-translate><i class="fa fa-language"></i><div id=google_translate_element></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2023</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=author itemprop=copyrightHolder>Taivas Jumala</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.111.3 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.4.0 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script>
<script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#6667AB","enable":true,"save":"manual"},"busuanzi":{"pageview":true},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"https://taivasjumala.me","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"statis":{"enable":true,"plugin":"busuanzi"},"utterances":{"cfg":{"issueterm":"pathname","label":"comments","repo":"Taivasjumala/Taivasjumala.github.io","theme":"gruvbox-dark"},"js":"https://utteranc.es/client.js"},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.4.0"}</script><script type=text/javascript src=/js/main.min.7268556ae19f8b21a395ec57af7a5394e0a20a980f710abb8dbd236719d7413d.js defer></script></body></html>