<?xml version="1.0" encoding="utf-8" standalone="yes"?><search><entry><title>Toki</title><url>/post/toki/</url><categories><category><no value=/></categories><tags><tag><no value=/><tag><no value=/></tags><content type="html"> æ—¶ä¸æˆ‘å¾…ã€‚</content></entry><entry><title>é“¾è¡¨ã€æŒ‡é’ˆæŠ€å·§ä¸ç¼–ç¨‹å“å‘³</title><url>/post/linked-list-good-taste/</url><categories><category>è¯‘æ–‡</category><category>æ•°æ®ç»“æ„</category></categories><tags><tag>é“¾è¡¨</tag><tag>æŒ‡é’ˆ</tag></tags><content type="html"><![CDATA[ æœ¬æ–‡æ˜¯ Linked lists, pointer tricks and good taste çš„è¯‘æ–‡ï¼ŒåŒ…å«äº†ä¸€äº›ä¸ªäººçš„å†…å®¹ã€‚ ä»£ç éƒ¨åˆ†ä¸º MIT åè®®ï¼Œæ‰€æœ‰æƒå½’åŸä½œè€…ï¼Œç¿»è¯‘éƒ¨åˆ†å†…å®¹å‚è€ƒæœ¬ç«™ CC è®¸å¯ã€‚
åœ¨ 2016 å¹´çš„ TED é‡‡è®¿ 1ä¸Šï¼ˆ14:10 å¤„ï¼‰ï¼ŒLinux çš„åˆ›å§‹äºº Linus Trovalds è°ˆåŠäº†ä»–è®¤ä¸ºç¼–ç¨‹æ—¶æ‰€è°“çš„å¥½å“ä½ã€‚ä¸»æŒäººå±•ç¤ºäº†å•é“¾è¡¨ä¸­åˆ é™¤é¡¹çš„ä¸¤ç§å®ç°ï¼ˆæ–‡ä¸­å°†éšåå¤ç°ï¼‰ã€‚å…¶ä¸­ä¸€ç§å®ç°éœ€è¦ä¸€ä¸ªç‰¹åˆ«çš„æ¡ä»¶è¯­å¥æ¥è¿›è¡Œç‰¹åˆ¤è€Œå¦ä¸€ä¸ªå®ç°ä¸éœ€è¦ã€‚Linus, äº¦å¦‚æˆ‘ä»¬æ‰€æ–™ï¼Œåå¥½åä¸€ç§ã€‚
ä»–è¯„è¿°é“ï¼š
[&hellip;] æˆ‘ä¸ä¼šè¯†å›¾è®©ä½ ç†è§£ä¸ºä»€ä¹ˆå®ƒä¸åŒ…å« if è¯­å¥ã€‚æˆ‘æƒ³è®©ä½ ç†è§£çš„æ˜¯æœ‰æ—¶å€™ä½ ä»å¦ä¸€ä¸ªè§’åº¦æ€è€ƒé—®é¢˜æ¥é‡å†™ä»£ç å¥½è®©ç‰¹æ®Šæƒ…å†µæ¶ˆå¤±è€Œæˆä¸ºäº†ä¸€èˆ¬æƒ…å†µï¼Œé‚£å°±å¾—åˆ°äº†ä¸€æ®µå¥½çš„ä»£ç ã€‚ [&hellip;] &ndash; L. Torvalds
é‡‡è®¿ä¸­å±•ç¤ºçš„ä»£ç ç‰‡æ®µæ˜¯ C è¯­è¨€é£æ ¼çš„ä¼ªä»£ç ï¼Œéå¸¸ç®€å•ã€‚ç„¶è€Œï¼Œæ­£å¦‚ Linus åœ¨è¯„è¿°ä¸­æåˆ°çš„é‚£æ ·ï¼Œè¿™äº›ä¼ªä»£ç ç¼ºä¹æ¦‚å¿µä¸Šçš„è§£é‡Šï¼Œå¹¶ä¸”æ— æ³•ç«‹å³çœ‹å‡ºæ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆå®é™…ä¸Šæ˜¯å¦‚ä½•å·¥ä½œçš„
æ¥ä¸‹æ¥çš„ä¸¤èŠ‚å°†è¯¦ç»†è®¨è®ºæŠ€æœ¯å®ç°çš„æ–¹æ³•ï¼Œå¹¶æ¼”ç¤ºé—´æ¥å¯»å€æ–¹æ³•æ˜¯å¦‚ä½•ä»¥åŠä¸ºä»€ä¹ˆå¦‚æ­¤ç®€æ´ã€‚æœ€åä¸€èŠ‚å°†è§£å†³æ–¹æ¡ˆä»åˆ é™¤é¡¹æ‰©å±•åˆ°æ’å…¥é¡¹ã€‚
ä»£ç  æ•´æ•°å•é“¾è¡¨çš„åŸºæœ¬æ•°æ®ç»“æ„å¦‚å›¾1æ‰€ç¤ºã€‚
å›¾1ï¼šå¸¦å¤´æŒ‡é’ˆçš„æ•´æ•°çš„å•é“¾è¡¨çš„æ•°æ®ç»“æ„ è¿™é‡Œçš„æ•°å­—æ˜¯ä»»æ„é€‰æ‹©çš„æ•´æ•°å€¼ï¼Œç®­å¤´è¡¨ç¤ºæŒ‡é’ˆã€‚ head æ˜¯ä¸€ä¸ªç±»å‹ä¸º list_item * çš„æŒ‡é’ˆï¼Œæ¯ä¸ªç›’å­éƒ½æ˜¯ä¸€ä¸ª list_item ç»“æ„ä½“çš„å®ä½“ï¼Œæ¯ä¸ªç›’å­éƒ½æœ‰ä¸€ä¸ªç±»å‹ä¸º list_item * çš„æˆå‘˜å˜é‡ï¼ˆåœ¨ä»£ç ä¸­ç§°ä¸º next ï¼‰æŒ‡å‘ä¸‹ä¸€ä¸ªç›’å­ã€‚
ç”¨ C è¯­è¨€æ¥å®ç°å®ƒçš„æ•°æ®ç»“æ„åˆ™æ˜¯ï¼š
struct list_item { int value; struct list_item *next; }; typedef struct list_item list_item; struct list { struct list_item *head; }; typedef struct list list; æˆ‘ä»¬è¿˜åŒ…æ‹¬ä¸€ä¸ªï¼ˆæœ€å°çš„ï¼‰APIï¼š
/* The textbook version */ void remove_cs101(list *l, list_item *target); /* A more elegant solution */ void remove_elegant(list *l, list_item *target); æœ‰äº†è¿™äº›ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ remove_cs101() å’Œ remove_elegant() çš„å®ç°ã€‚è¿™äº›ç¤ºä¾‹çš„ä»£ç ä¸Linusç¤ºä¾‹ä¸­çš„ä¼ªä»£ç ç›¸åŒï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥ç¼–è¯‘å’Œè¿è¡Œã€‚
CS101 ç‰ˆæœ¬ å›¾2ï¼šCS101ç®—æ³•ä¸­é“¾è¡¨æ•°æ®ç»“æ„çš„æ¦‚å¿µæ¨¡å‹ void remove_cs101(list *l, list_item *target) { list_item *cur = l-&gt;head, *prev = NULL; while (cur != target) { prev = cur; cur = cur-&gt;next; } if (prev) prev-&gt;next = cur-&gt;next; else l-&gt;head = cur-&gt;next; } æ ‡å‡†CS101æ–¹æ³•åˆ©ç”¨ä¸¤ä¸ªéå†æŒ‡é’ˆ cur å’Œ prev ï¼Œåˆ†åˆ«æ ‡è®°åˆ—è¡¨ä¸­çš„å½“å‰ä½ç½®å’Œå‰ä¸€ä¸ªä½ç½®ã€‚ cur ä»é“¾è¡¨çš„å¤´æŒ‡é’ˆ head å¼€å§‹ï¼Œå¹¶ä¸”å‰è¿›ï¼Œç›´åˆ°æ‰¾åˆ°è¦åˆ é™¤çš„ targetã€‚ prev ä» NULL å¼€å§‹ï¼Œå¹¶ä¸”éšåæ¯å½“ cur éå†ä¸€ä¸ªå…ƒç´ æ—¶ç”¨å…ˆå‰çš„å€¼ cur æ›´æ–°ã€‚åœ¨æ‰¾åˆ°ç›®æ ‡ä¹‹åï¼Œç®—æ³•æµ‹è¯• prev æ˜¯å¦ä¸ºé NULL ã€‚å¦‚æœæ˜¯ï¼Œåˆ™è¦åˆ é™¤çš„é¡¹ä¸åœ¨é“¾è¡¨çš„å¼€å§‹å¤„ï¼Œå¹¶ä¸”ç§»é™¤åŒ…æ‹¬å›´ç»• cur é‡æ–°é“¾è¡¨ã€‚å¦‚æœ prev æ˜¯ NULL ï¼Œæ­¤æ—¶ cur æŒ‡å‘åˆ—è¡¨ä¸­çš„ç¬¬ä¸€é¡¹ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦åˆ é™¤çš„é¡¹ï¼‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ é™¤é¡¹æ„å‘³ç€å°†é“¾è¡¨å¤´æŒ‡é’ˆå‘åç§»åŠ¨ã€‚
è¯‘æ³¨ï¼šä»£ç æœ‰å†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œä¸è¿‡å…³é”®æ˜¯ç†è§£å…¶ä¸­æ€æƒ³
æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ æ›´ä¼˜é›…çš„ç‰ˆæœ¬å…·æœ‰æ›´å°‘çš„ä»£ç ï¼Œå¹¶ä¸”ä¸éœ€è¦å•ç‹¬çš„åˆ†æ”¯æ¥å¤„ç†é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„åˆ é™¤ã€‚
void remove_elegant(list *l, list_item *target) { list_item **p = &amp;l-&gt;head; while (*p != target) p = &amp;(*p)-&gt;next; *p = target-&gt;next; } ä»£ç ä½¿ç”¨é—´æ¥æŒ‡é’ˆ p ï¼Œå®ƒä¿å­˜æŒ‡å‘é“¾è¡¨é¡¹çš„æŒ‡é’ˆçš„åœ°å€ï¼Œä» head çš„åœ°å€å¼€å§‹ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œè¯¥æŒ‡é’ˆå‰è¿›ä»¥ä¿æŒæŒ‡å‘ä¸‹ä¸€é“¾è¡¨é¡¹çš„æŒ‡é’ˆçš„åœ°å€ï¼Œå³å½“å‰ list_item ä¸­çš„ next å…ƒç´ çš„åœ°å€ã€‚å½“æŒ‡å‘é“¾è¡¨é¡¹ *p çš„æŒ‡é’ˆç­‰äº target æ—¶ï¼Œæˆ‘ä»¬é€€å‡ºæœç´¢å¾ªç¯å¹¶ä»åˆ—è¡¨ä¸­åˆ é™¤è¯¥é¡¹ã€‚
å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ å…³é”®çš„ç†è§£æ˜¯ï¼Œä½¿ç”¨é—´æ¥æŒ‡é’ˆ p æœ‰ä¸¤ä¸ªæ¦‚å¿µä¸Šçš„å¥½å¤„ï¼š
å®ƒå…è®¸æˆ‘ä»¬ä»¥ä¸€ç§ä½¿ head æŒ‡é’ˆæˆä¸ºæ•°æ®ç»“æ„çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†çš„æ–¹å¼æ¥è§£é‡Šé“¾è¡¨ã€‚è¿™æ¶ˆé™¤äº†ç§»é™¤ç¬¬ä¸€é¡¹çš„ç‰¹æ®Šæƒ…å†µçš„éœ€è¦ã€‚ å®ƒè¿˜å…è®¸æˆ‘ä»¬è¯„ä¼° while å¾ªç¯çš„æ¡ä»¶ï¼Œè€Œä¸å¿…é‡Šæ”¾æŒ‡å‘ target çš„æŒ‡é’ˆã€‚è¿™å…è®¸æˆ‘ä»¬ä¿®æ”¹æŒ‡å‘ target çš„æŒ‡é’ˆï¼Œå¹¶ä½¿ç”¨å•ä¸ªè¿­ä»£å™¨ï¼Œè€Œä¸æ˜¯ prev å’Œ cur ã€‚ è®©æˆ‘ä»¬ä¾æ¬¡æ¥çœ‹è¿™äº›è¦ç‚¹ï¼š
é›†æˆå¤´æŒ‡é’ˆ æ ‡å‡†æ¨¡å‹å°†é“¾è¡¨è§£é‡Šä¸º list_item å®ä¾‹çš„åºåˆ—ã€‚åºåˆ—çš„å¼€å§‹å¯ä»¥é€šè¿‡ head æŒ‡é’ˆè®¿é—®ã€‚è¿™å°±äº§ç”Ÿäº†ä¸Šé¢å›¾2æ‰€ç¤ºçš„æ¦‚å¿µæ¨¡å‹ã€‚ head æŒ‡é’ˆä»…ä»…è¢«è®¤ä¸ºæ˜¯è®¿é—®åˆ—è¡¨å¼€å§‹çš„å¥æŸ„ã€‚ prev å’Œ cur æ˜¯ç±»å‹ä¸º list_item * çš„æŒ‡é’ˆï¼Œæ€»æ˜¯æŒ‡å‘ä¸€ä¸ªé¡¹æˆ– NULL ã€‚
ä¼˜é›…çš„å®ç°ä½¿ç”¨é—´æ¥å¯»å€æ–¹æ¡ˆï¼Œäº§ç”Ÿæ•°æ®ç»“æ„çš„ä¸åŒè§†å›¾ï¼š
å›¾3ï¼šæ›´ä¼˜é›…çš„æ–¹æ³•ä¸­é“¾è¡¨æ•°æ®ç»“æ„çš„æ¦‚å¿µæ¨¡å‹ã€‚ è¿™é‡Œï¼Œ p æ˜¯ç±»å‹ list_item ** ï¼Œå¹¶ä¸”ä¿å­˜æŒ‡å‘å½“å‰é“¾è¡¨é¡¹çš„æŒ‡é’ˆçš„åœ°å€ã€‚å½“æˆ‘ä»¬å‰è¿›æŒ‡é’ˆæ—¶ï¼Œæˆ‘ä»¬å‰è¿›åˆ°æŒ‡é’ˆçš„åœ°å€ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªé“¾è¡¨é¡¹ã€‚
åœ¨ä»£ç ä¸­ï¼Œè¿™ç¿»è¯‘ä¸º p = &amp;(*p)-&gt;next ï¼Œæ„å‘³ç€æˆ‘ä»¬:
(*p) ï¼šå–æ¶ˆå¼•ç”¨ ( dereference ) æŒ‡å‘å½“å‰é“¾è¡¨é¡¹æŒ‡é’ˆçš„åœ°å€ -&gt;next ï¼šå†æ¬¡å–æ¶ˆå¼•ç”¨è¯¥æŒ‡é’ˆï¼Œå¹¶é€‰æ‹©ä¿å­˜ä¸‹ä¸€ä¸ªé“¾è¡¨é¡¹åœ°å€çš„å­—æ®µ &amp; ï¼šè·å–è¯¥åœ°å€å­—æ®µçš„åœ°å€ï¼ˆå³è·å–æŒ‡å‘å®ƒçš„æŒ‡é’ˆï¼‰ è¿™å¯¹åº”å¦ä¸€ç§å¯¹äºæ•°æ®ç»“æ„çš„è§£é‡Šï¼Œå…¶ä¸­é“¾è¡¨æ˜¯ä¸€ä¸ªæŒ‡å‘ list_item s çš„æŒ‡é’ˆçš„åºåˆ—ï¼ˆå‚è§å›¾3ï¼‰ã€‚
ç»´æŠ¤äº†ä¸€ä¸ªå¥æŸ„ ( handle ) è¿™ç§ç†è§£çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå®ƒæ”¯æŒåœ¨æ•´ä¸ªéå†è¿‡ç¨‹ä¸­ç¼–è¾‘å½“å‰é¡¹çš„å‰ä¸€é¡¹çš„ next æŒ‡é’ˆã€‚ ç”±äº p ä¿å­˜æŒ‡å‘åˆ—è¡¨é¡¹çš„æŒ‡é’ˆçš„åœ°å€ï¼Œæœç´¢å¾ªç¯ä¸­çš„æ¯”è¾ƒå˜ä¸ºï¼š
while (*p != target) å¦‚æœ *p ç­‰äº target ï¼Œåˆ™æœç´¢å¾ªç¯å°†é€€å‡ºï¼Œå¹¶ä¸”ä¸€æ—¦å®ƒè¿™æ ·åšï¼Œæˆ‘ä»¬ä»ç„¶èƒ½å¤Ÿä¿®æ”¹ *p ï¼Œå› ä¸ºæˆ‘ä»¬æŒæœ‰å…¶åœ°å€ p ã€‚å› æ­¤ï¼Œå³ä½¿è¿­ä»£å¾ªç¯ç›´åˆ°æˆ‘ä»¬å‘½ä¸­ target ï¼Œæˆ‘ä»¬ä»ç„¶ä¿æŒä¸€ä¸ªå¥æŸ„ï¼ˆ next å­—æ®µçš„åœ°å€æˆ– head æŒ‡é’ˆï¼‰ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥ä¿®æ”¹æŒ‡å‘é¡¹çš„æŒ‡é’ˆã€‚
è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ *p = target-&gt;next æ¥ä¿®æ”¹å°†è¦éå†çš„é¡¹çš„æŒ‡é’ˆåˆ°ä¸€ä¸ªä¸åŒçš„ä½ç½®ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸éœ€è¦ prev å’Œ cur æŒ‡é’ˆæ¥éå†é“¾è¡¨ä»¥åˆ é™¤é¡¹ç›®ã€‚
æ‹“å±• äº‹å®è¯æ˜ï¼Œ remove_elegant() èƒŒåçš„æ€æƒ³å¯ä»¥ç”¨äºåœ¨é“¾è¡¨APIä¸­ç”Ÿæˆå¦ä¸€ä¸ªå‡½æ•°çš„ç‰¹åˆ«ç®€æ´çš„å®ç°ï¼š insert_before() ï¼Œå³åœ¨å¦ä¸€ä¸ªé¡¹ä¹‹å‰æ’å…¥ç»™å®šçš„å…ƒç´ ã€‚
é¦–å…ˆï¼Œè®©æˆ‘ä»¬å°†ä»¥ä¸‹å£°æ˜æ·»åŠ åˆ° list.h ä¸­ï¼š
void insert_before(list *l, list_item *before, list_item *item); è¯¥å‡½æ•°å°†è·å–æŒ‡å‘åˆ—è¡¨ l çš„æŒ‡é’ˆã€æŒ‡å‘è¯¥åˆ—è¡¨ä¸­çš„é¡¹çš„æŒ‡é’ˆ before ä»¥åŠæŒ‡å‘è¯¥å‡½æ•°å°†æ’å…¥åœ¨ before ä¹‹å‰çš„æ–°é¡¹ item çš„æŒ‡é’ˆã€‚
ç®€å•é‡æ„ åœ¨ç»§ç»­ä¹‹å‰ï¼Œæˆ‘ä»¬å°†æœç´¢å¾ªç¯é‡æ„ä¸ºä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ï¼š
static inline list_item **find_indirect(list *l, list_item *target) { list_item **p = &amp;l-&gt;head; while (*p != target) p = &amp;(*p)-&gt;next; return p; } å¹¶åœ¨ remove_elegant() ä¸­ä½¿ç”¨è¯¥å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
void remove_elegant(list *l, list_item *target) { list_item **p = find_indirect(l, target); *p = target-&gt;next; } å®ç° insert_before() ä½¿ç”¨ find_indirect() ï¼Œå¯ä»¥ç›´æ¥å®ç° insert_before() ï¼š
void insert_before(list *l, list_item *before, list_item *item) { list_item **p = find_indirect(l, before); *p = item; item-&gt;next = before; } ä¸€ä¸ªç‰¹åˆ«æ¼‚äº®çš„ç»“æœæ˜¯ï¼Œå®ç°å¯¹è¾¹ç¼˜æƒ…å†µå…·æœ‰ä¸€è‡´çš„è¯­ä¹‰ï¼šå¦‚æœ before æŒ‡å‘åˆ—è¡¨å¤´ï¼Œåˆ™åœ¨åˆ—è¡¨çš„å¼€å¤´æ’å…¥æ–°é¡¹ï¼Œå¦‚æœ before æ˜¯ NULL æˆ–æ— æ•ˆï¼ˆå³è¯¥é¡¹ä¸å­˜åœ¨äº l ä¸­ï¼‰ï¼Œåˆ™åœ¨æœ«å°¾è¿½åŠ æ–°é¡¹ã€‚
æ€»ç»“ æ›´ä¼˜é›…çš„å…ƒç´ åˆ é™¤è§£å†³æ–¹æ¡ˆçš„å‰ææ˜¯ä¸€ä¸ªç®€å•çš„æ›´æ”¹ï¼šä½¿ç”¨é—´æ¥ list_item ** æŒ‡é’ˆæ¥è¿­ä»£æŒ‡å‘åˆ—è¡¨é¡¹çš„æŒ‡é’ˆã€‚å…¶ä»–çš„ä¸€åˆ‡éƒ½æ˜¯ä»è¿™é‡Œå¼€å§‹çš„ï¼šä¸éœ€è¦å¤„ç†ç‰¹æ®Šæƒ…å†µæˆ–åˆ†æ”¯ï¼Œå¹¶ä¸”å•ä¸ªè¿­ä»£å™¨è¶³ä»¥æ‰¾åˆ°å¹¶ç§»é™¤ç›®æ ‡é¡¹ã€‚åˆ©ç”¨åŒæ ·çš„æ–¹æ³•ä¹Ÿæä¾›äº†ä¸€ä¸ªä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œç”¨äºä¸€èˆ¬çš„é¡¹æ’å…¥ï¼Œç‰¹åˆ«æ˜¯åœ¨ç°æœ‰é¡¹ä¹‹å‰çš„æ’å…¥ã€‚
å›åˆ° Linus æœ€åˆçš„è¯„è®ºï¼šå“å‘³å¾ˆå¥½å—ï¼Ÿå¾ˆéš¾è¯´ï¼Œä½†å®ƒè‚¯å®šæ˜¯ä¸€ä¸ªå¯¹äºæˆ‘ä»¬éƒ½çŸ¥é“çš„è®¡ç®—æœºç§‘å­¦é—®é¢˜çš„ä¸åŒçš„ï¼Œåˆ›é€ æ€§çš„ï¼Œéå¸¸ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚
æœ€åé™„ä¸Šä¸€æ®µæˆ‘å’Œå¥½å‹çš„èŠå¤©è®°å½•ï¼Œå¸®åŠ©åŠ æ·±å°è±¡ï¼š
Taivas Jumala 2023/3/28 11:29:59 https://github.com/mkirchner/linked-list-good-taste Auckas 2023/3/28 11:55:17 the solution is good Auckas 2023/3/28 11:55:25 but not obvious Auckas 2023/3/28 11:56:05 to make it simple and elegant Auckas 2023/3/28 11:59:54 just interpret list_item* as Box&lt;ListItem&gt; Auckas 2023/3/28 12:00:16 and list_item** as &amp;mut Box&lt;ListItem&gt; Auckas 2023/3/28 12:00:31 then the solution becomes so obvious Auckas 2023/3/28 12:01:20 once noticed, the solution will even instantly come to the mind of a five-year old. Auckas 2023/3/28 12:03:30 and the act of choosing the other way must imply an infinite amount of intelligence of the chooser per se å¦æœ‰ Bilibili æ¬è¿ï¼š ã€TEDã€‘Linux æ“ä½œç³»ç»Ÿä¹‹çˆ¶&ndash;Linus Torvaldsã€‘ &#160;&#x21a9;&#xfe0e;
]]></content></entry><entry><title>å…³äº</title><url>/about.html</url><categories/><tags/><content type="html">Now work in progress.</content></entry><entry><title>ä¸º Microsoft Surface è®¾å¤‡å‡†å¤‡çš„ openSUSE Tumbleweed å†…æ ¸</title><url>/post/linux-kernel-for-microsoft-surface-devices/</url><categories><category>openSUSE</category></categories><tags><tag>æ‰“åŒ…ç›¸å…³</tag><tag>openSUSE</tag><tag>Linux</tag><tag>Surface</tag></tags><content type="html"><![CDATA[ ä¸º Microsoft Surface1 è®¾å¤‡å‡†å¤‡çš„ openSUSE Tumbleweed2 å†…æ ¸ å®Œæˆäº 2023 å¹´ 3 æœˆ 20 æ—¥ï¼Œè¯¥æ–‡ç« éƒ¨åˆ†å†…å®¹å…·æœ‰æ—¶æ•ˆæ€§ï¼Œæ‚¨çœ‹è§æ­¤æ–‡ç« æ—¶æœ¬äººå¯èƒ½å·²ç»ä¸å†ç»´æŠ¤ï¼Œè¯·è”ç³» Github å’Œ Open Build Serivice ä¸Šç›¸å…³é¡µé¢ç”„åˆ«ã€‚
ç¼˜èµ· ç®€å•æ¥è¯´ï¼Œæˆ‘å°é»„é±¼ä¸Šæäº†ä¸€å°äºŒæ‰‹ Surface Book 1ï¼Œæˆ‘æƒ³åœ¨ä¸Šé¢è¿è¡Œ openSUSE. äºæ˜¯æˆ‘æœå¯»åˆ°äº† linux surface â€”â€”ä¸€ä¸ªç”±å¼€æºç¤¾åŒºç»´æŠ¤çš„ Surface è®¾å¤‡çš„ Linux é©±åŠ¨ã€‚è¿™äº›ä¼Ÿå¤§çš„å¼€å‘è€…ä¸º Microsoft Surface è®¾å¤‡æä¾›äº†ç›¸å½“å…³é”®çš„æ”¯æŒï¼Œä½¿å¾—å®ƒä»¬å¾—ä»¥æ›´å¥½ä¸ Linux æ“ä½œç³»ç»Ÿä¸€èµ·å¸®åŠ©æˆ‘ä»¬å®Œæˆå·¥ä½œã€‚æ–‡æœ«çš„ é™„å½•ï¼šç‰¹æ€§è¡¨ å°†å±•ç¤ºå·²ç»å¾—åˆ°æ”¯æŒçš„ç‰¹æ€§ã€‚
ç„¶è€Œï¼Œåœ¨æˆ‘äº†è§£åˆ°è¿™äº›å·¥ä½œæ—¶ï¼Œåªæœ‰ Debian / Ubuntu ã€ Fedora ã€ Arch è¿™å‡ ä¸ªä¸»æµçš„åˆ†å‘ç‰ˆå’Œ Gentooã€NixOS æœ‰æ¯”è¾ƒå¥½çš„æ”¯æŒã€‚ openSUSE ä½œä¸ºå¼€æºç¤¾åŒºçš„ä¸€å¤§è´¡çŒ®è€…ï¼Œå´åœ¨é‚£ å®‰è£…å’Œè®¾ç½®æŒ‡å— ä¸Šç¼ºå°‘ä½ç½®ã€‚ä¸ºäº†æ–¹ä¾¿æˆ‘è‡ªå·±å’Œå…¶ä»–ç”¨æˆ·ï¼Œæˆ‘å†³å®šåœ¨ å¼€æ”¾æ„å»ºæœåŠ¡ (Open Build Service) ä¸Šä¸º Tumbleweed å‘è¡Œç‰ˆæ„å»ºæ‰“åŒ…ç›¸åº”çš„ Linux å†…æ ¸ã€‚
å®‰è£…æŒ‡å— æœ¬æŒ‡å—ä¸“ä¸º openSUSE Tumbleweed å‘è¡Œç‰ˆæ’°å†™ï¼Œä¹Ÿå­˜åœ¨å…¶ä»–åˆ†å‘ç‰ˆçš„å®‰è£…æŒ‡å—ï¼Œè¯·æŸ¥é˜… Installation and Setup 3.
ä¸€ã€å‡†å¤‡ ä½ éœ€è¦ï¼š
ä¸€å°æ”¯æŒçš„ Surface è®¾å¤‡ï¼Œå¯ä»¥æŸ¥çœ‹ é™„å½•ï¼šç‰¹æ€§è¡¨ ã€‚
ä¸€ä¸ª USB ä½œä¸ºå®‰è£…åª’ä»‹ã€‚
å¯¹äº Surface Laptop äº§å“çº¿çš„è®¾å¤‡ï¼Œä½ è¿˜éœ€è¦ä¸€æŠŠå¤‡ç”¨é”®ç›˜ã€‚ï¼ˆå¯èƒ½çš„è¯ï¼Œè¿˜éœ€è¦é¼ æ ‡å’Œ USB æ¥å£ä»¥ä¾¿å®‰è£… Linuxã€‚ï¼‰
åœ¨å¼€å§‹ä¹‹å‰ï¼Œå¼ºçƒˆå»ºè®®é€šè¿‡ Windows æ›´æ–°æ¥æ›´æ–°æ‰€æœ‰ Windows ä¸Šçš„å›ºä»¶ã€‚è¿™åº”è¯¥èƒ½è§£å†³è®¸å¤šç¡¬ä»¶å±‚é¢çš„ç¼ºé™·ã€‚
äºŒã€å®‰è£… openSUSE Tumbleweed âš ï¸è­¦å‘Šï¼š
å¦‚æœä½ è®¡åˆ’ä½¿ç”¨ç£ç›˜åŠ å¯†(å®‰è£…å‰ä¹Ÿè¯·æ³¨æ„ä½ çš„ BitLocker4)æˆ–æ˜¯å·²ç»ä½¿ç”¨äº†ç£ç›˜åŠ å¯†ï¼Œè¯·ç¡®ä¿ä¸€äº›æ¨¡å—åœ¨ä½ çš„åˆå§‹ ram æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ˆå‚è€ƒ é™„å½•ï¼šç£ç›˜åŠ å¯† ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¡®ä¿è¿™äº›æ¨¡å—åœ¨ç£ç›˜åŠ å¯†è§£é”ç•Œé¢å‡ºç°æ—¶è¢«åŠ è½½ï¼Œå¦åˆ™ä½ å°†ä¼šç”±äºä¸èƒ½ä½¿ç”¨é”®ç›˜æ— æ³•è§£é”ä½ çš„ç¡¬ç›˜ã€‚
å’Œä¸‹é¢çš„æ³¨æ„äº‹é¡¹ä¸€èµ·é˜…è¯»ã€å¤„ç†éå¸¸é‡è¦ï¼Œå› ä¸ºä¸€äº›è®¾å¤‡éœ€è¦é¢å¤–çš„è®¾ç½®ã€‚
é™„å½•ï¼šç£ç›˜åŠ å¯† çš„æ“ä½œé€‚ç”¨äºå·²ç»å®‰è£…äº† Linux ç³»ç»Ÿçš„è®¾å¤‡ã€‚å¦‚æœæƒ³è¦åœ¨å®‰è£…å™¨çš„ç³»ç»Ÿä¸Šå¯ç”¨ç£ç›˜åŠ å¯†ï¼Œä½ éœ€è¦è°ƒæ•´æ“ä½œå¹¶å®Œæˆä¸€äº›é¢å¤–çš„ä»»åŠ¡
å¦‚æœä½ æƒ³è¦ä¹‹åå†å¯ç”¨ç£ç›˜åŠ å¯†ä¸”ï¼Œä½ å¿…é¡»è¦æ‰§è¡Œæ­¤æ­¥æ“ä½œå¦‚æœç›®å‰è¿˜æ²¡çš„è¯ã€‚
ğŸ““æ³¨æ„ï¼š
æ¯ä¸ªè®¾å¤‡éƒ½æœ‰è‡ªå·±çš„ä¸€äº›æ€ªç™–ï¼Œéœ€è¦è¿›è¡Œä¸€äº›é¢å¤–è°ƒæ•´ã€‚æŸ¥çœ‹ Supported Devices and Features æ¥å¯»æ±‚æ›´å¤šæŒ‡å¯¼ã€‚ä½ ä¹Ÿè®¸åº”è¯¥åœ¨å®‰è£…å‰å’Œå®‰è£…ä¹‹åéƒ½çœ‹ä¸€çœ‹å…¶ä¸­çš„è¯´æ˜ã€‚
1. åˆ¶ä½œå®‰è£…Uç›˜ è¿™éƒ¨åˆ†å†…å®¹å¯ä»¥éµå¾ª openSUSE çš„å®˜æ–¹æŒ‡å¯¼ï¼Œä¸€ä¸‹æ˜¯ä¸€äº›è¯´æ˜ï¼š
å®˜æ–¹ä¸‹è½½æ¸ é“ SDB:åˆ¶ä½œå®‰è£…Uç›˜ openSUSE ä¸­æ–‡ Wiki çš„æŒ‡å¯¼
Create installation USB stick - openSUSE Wiki è‹±æ–‡ç»´åŸº
å®‰è£… éå®˜æ–¹çš„ openSUSE Leap 15.4 æŒ‡å—ä¸­çš„å®‰è£…è¯´æ˜ã€‚
æˆ‘çš„ä¸ªäººç†è§£ï¼šé‰´äºä½ æœ‰ä¸€å°å®‰è£…äº† Windows çš„ Surface è®¾å¤‡ï¼Œ Etcher æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºå®ç”¨å·¥å…·ï¼Œå®ƒå‚»ç“œå¼çš„å¸®åŠ©ä½ åˆ¶ä½œå®‰è£…Uç›˜ï¼Œä¹Ÿç»è¿‡äº†æˆ‘çš„æ£€éªŒã€‚
2. å‹ç¼© Windows ç³»ç»Ÿçš„åˆ†å·ï¼ˆä½œä¸ºåŒç³»ç»Ÿå®‰è£…ï¼‰ å¦‚æœä½ ä¸æƒ³ä¿ç•™ Windows æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥è·³è¿‡æ­¤æ­¥ã€‚
æŒ‰ã€ŒWindows å¾½æ ‡é”®+Sã€æœç´¢ã€Œç£ç›˜ç®¡ç†ã€æˆ–è€…å‰å¾€ã€Œæ§åˆ¶é¢æ¿ã€â†’ã€Œç³»ç»Ÿå’Œå®‰å…¨ã€â†’ã€ŒWindows å·¥å…·ã€â†’ã€Œè®¡ç®—æœºç®¡ç†ã€â†’ã€Œå­˜å‚¨ã€â†’ã€Œç£ç›˜ç®¡ç†ã€
å³é”® Windows ç³»ç»Ÿçš„åˆ†åŒºå¹¶æŒ‰ä½ å–œå¥½å‹ç¼©åˆ†å·ï¼ˆæ¨èæœ€å°ä¿ç•™ 50GBï¼‰ã€‚
å¯¹äº Surface Book äº§å“çº¿çš„ç”¨æˆ·ï¼ŒåŒç³»ç»Ÿå¯èƒ½æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„é€‰æ‹©ï¼Œè™½ç„¶é€šè¿‡æ­¤å†…æ ¸åœ¨ Linux ä¸‹ä»èƒ½å¤Ÿåˆ†ç¦»å±å¹•å’Œé”®ç›˜ï¼Œä½†æ˜¯åœ¨ Linux ä¸‹æ— æ³•è§£å†³çš„é—®é¢˜ä»å¯èƒ½å‘ç”Ÿï¼Œå‚è€ƒ Issue #93 å’Œ Issue #1023 .
3. ä¿®æ”¹ Secure Boot é€‰é¡¹ å‚è€ƒ å¦‚ä½•ä½¿ç”¨ Surface UEFI ä¿®æ”¹ Secure Boot é€‰é¡¹ä¸º &ldquo;Microsoft &amp; 3rd party CA&rdquo;, å…·ä½“å‚è§ã€Œå®‰å…¨æ€§ã€éƒ¨åˆ†ã€‚
4. ä¿®æ”¹å¯åŠ¨é¡ºåºä»¥ä½¿å¾—èƒ½ä»Uç›˜å¯åŠ¨ å‚è€ƒ3ä¸­çš„é“¾æ¥
5. å®‰è£… å®‰è£… è¿™é‡Œæœ‰å®‰è£…ç•Œé¢çš„æˆªå›¾å’Œè¿‡ç¨‹æ­¥éª¤ã€‚
ä¸‰ã€å®‰è£…å†…æ ¸ ç»è¿‡å‰é¢çš„æ­¥éª¤åï¼Œåœ¨ä½ çš„è®¾å¤‡ä¸Šåº”è¯¥æœ‰äº†å¯ä»¥å¯åŠ¨çš„ Linux å‘è¡Œç‰ˆï¼Œä½†æ˜¯åœ¨ä¸€äº›æ¯”è¾ƒæ–°çš„ Surface è®¾å¤‡ä¸Šï¼Œç›®å‰ä¼šç¼ºå°‘å¾ˆå¤šç‰¹æ€§ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œä½ å°†å®‰è£…æ‰“åŒ…å¥½çš„å†…æ ¸ã€‚å¼€å‘è€…ä»¬æ­£åŠªåŠ›è®©æ”¹å˜åœ¨ä¸Šæ¸¸å®ç°ã€‚
åœ¨å®‰è£…è‡ªå®šä¹‰å†…æ ¸ä¹‹å‰ï¼Œç¡®ä¿æ‚¨æ²¡æœ‰å®‰è£…äº†ä»»ä½• Linux å†…æ ¸æºç æ ‘å¤–çš„å†…æ ¸æ¨¡å—çš„DKMSç‰ˆæœ¬(zfs â†’ zfs-DKMS, nvidiaâ†’ nvidia- DKMSç­‰)ã€‚å¦åˆ™ï¼Œè¿™äº›æ¨¡å—å°†æ— æ³•ä¸å®šåˆ¶çš„ linux-surfaceå†…æ ¸ä¸€èµ·å·¥ä½œã€‚å¦‚æœæ‚¨ä¸çŸ¥é“ DKMS/akmod æˆ–ZFSæ˜¯ä»€ä¹ˆï¼Œæˆ–è€…ä¸ä¾èµ–äºZFSæ–‡ä»¶ç³»ç»Ÿï¼Œæ‚¨å¯ä»¥(å¾ˆå¯èƒ½)å¿½ç•¥è¿™ä¸€éƒ¨åˆ†ã€‚åŸºæœ¬æ“ä½œæ‰€éœ€çš„æ‰€æœ‰é©±åŠ¨ç¨‹åºéƒ½åº”è¯¥åŒ…å«åœ¨å†…æ ¸æœ¬èº«ä¸­ï¼Œä»»ä½•å¤–éƒ¨å†…æ ¸æ¨¡å—éƒ½å¯ä»¥åœ¨ä»¥åå®‰è£…ã€‚
ğŸ›ï¸å£°æ˜ï¼š
è¯¥å†…æ ¸ç”±æœ¬äºº @Taivasjumala ç»´æŠ¤ä¸”éœ€è¦å„ä½æ¥å½“ä¸€æ³¢å°ç™½é¼ ã€‚å¦‚æœä½ é‡åˆ°äº†é—®é¢˜æ¬¢è¿åˆ° Open Build Service ä¸Šçš„ kernel-source é¡µé¢çš„è¯„è®ºåŒºåé¦ˆï¼Œåœ¨çŸ¥ä¹çš„è¯„è®ºåŒºåé¦ˆå¯èƒ½å› ä¸ºæ—¶æ•ˆæ€§ä¸èƒ½å¾ˆå¥½çš„å¾—åˆ°è§£ç­”ã€‚å¦‚æœé€šè¿‡ Github Issues åé¦ˆ openSUSE å†…æ ¸ç›¸å…³é—®é¢˜è¯·@æˆ‘ã€‚
Open Build Service (OSC) ä¸Šçš„å†…æ ¸è®¾ç½®ä¸æ¯å½“ä¸Šæ¸¸ï¼ˆ Tumbleweed å†…æ ¸æºç ï¼‰ä¿å­˜åŒæ­¥å¹¶è‡ªåŠ¨æ„å»ºæ­¤å†…æ ¸åŒ…ä»¥ä¿æŒæ›´æ–°ã€‚ä½†æ˜¯ï¼Œ&ldquo;linux-surface&quot;éƒ¨åˆ†ä»£ç è¢«æ‰“åŒ…åœ¨ patches.addon ï¼ˆä½ å¯ä»¥é˜…è¯» è¯¥æ–‡ä»¶ çš„ç¬¬ 385 è¡Œäº†è§£æˆ‘ä»¬çš„ patch æ˜¯å¦‚ä½•æ·»åŠ çš„ï¼‰ï¼Œé€šå¸¸çš„æ›´æ–°åº”è¯¥å·¥ä½œè‰¯å¥½ï¼Œåªæ˜¯è¦åœ¨æœ‰ä¸€ä¸ªæ–°çš„&rdquo; Announcements and updates &ldquo;æ—¶ï¼Œå°å¿ƒåœ°è¿›è¡Œå†…æ ¸æ›´æ–°ã€‚å› ä¸ºæˆ‘å¯èƒ½ä¸ä¼šå°†è¿™äº›å˜åŒ–é‚£ä¹ˆå¿«åœ°åº”ç”¨åˆ°æˆ‘ä»¬çš„å†…æ ¸ä¸­ã€‚æ‰€ä»¥å¼ºçƒˆå»ºè®®è®¢é˜…ç›¸å…³é€šçŸ¥ï¼ˆé€šè¿‡ä¾§æ çš„ &ldquo;Notifications&rdquo; é¡¹ç›®ï¼Œæˆ‘äº¦é€šè¿‡è¯¥æ–¹å¼ä¿æŒæ¥æ”¶é€šçŸ¥æ¥ç»´æŠ¤æ­¤å†…æ ¸ï¼‰ã€‚
æˆ‘ä»¬æœ‰ä¸‰ç§æ–¹å¼å®‰è£…å®šåˆ¶çš„å†…æ ¸ã€‚
1. é€šè¿‡ openSUSE Software ç½‘é¡µç›¸å…³é¡µé¢å®‰è£… è®¿é—® kernel-default é¡µé¢ï¼Œè¯·æŸ¥çœ‹ã€Œå‘è¡Œç‰ˆ - openSUSE Tumbleweedã€ä¸­é€‰æ‹©ç‚¹å‡»ã€Œæ˜¾ç¤ºç¤¾åŒºè½¯ä»¶åŒ…ã€å¹¶æ‰¾åˆ° home:TaivasJumala:Surface é¡¹ç›®ï¼Œç‚¹å‡»ä¸€é”®å®‰è£…è¿›è¡Œå®‰è£…ã€‚ä¹‹åä¼šä¸‹è½½ä¸€ä¸ªä¸€é”®å®‰è£…å™¨ï¼Œè¿è¡Œåå°†ä¼šè‡ªåŠ¨å®‰è£…ã€‚
2. é€šè¿‡ Zypper å‘½ä»¤è¡Œå·¥å…·å®‰è£… é€šè¿‡ URL æ·»åŠ ä»“åº“ï¼š
sudo zypper addrepo https://download.opensuse.org/repositories/home:/TaivasJumala:/Surface/openSUSE_Tumbleweed/home:TaivasJumala:Surface.repo å®‰è£…è½¯ä»¶åŒ…ï¼š
sudo zypper install -r &#39;Linux Surface (openSUSE_Tumbleweed)&#39; kernel-default ä¸Šè¿°æ“ä½œäº¦å¯é€šè¿‡ yast æä¾›çš„ GUI ç•Œé¢æ‰§è¡Œå¯¹åº”çš„æ“ä½œå®Œæˆã€‚
3. ä½¿ç”¨ OBS Package Installer (OPI) ä½ å¯ä»¥æŸ¥çœ‹ OPI çš„ Github ä»“åº“ äº†è§£ç›¸å…³ä¿¡æ¯ï¼Œè¿™é‡Œä»…è¯´æ˜å¦‚ä½•ä½¿ç”¨ã€‚
å®‰è£… OPIï¼š
sudo zypper install opi å®‰è£… kernel-default
opi kernel-default è¿™æ—¶å®ƒä¼šè¦æ±‚ä½ é€šè¿‡æ•°å­—é€‰æ‹©è¦å®‰è£…çš„è½¯ä»¶åŒ…ï¼ˆè¿™é‡Œå¯èƒ½æ˜¯1 å¹¶æŒ‰å›è½¦ï¼‰ï¼Œç„¶åé”®å…¥ home:TaivasJumala:Surface ! å‰çš„æ•°å­—å¹¶æŒ‰å›è½¦å¼€å§‹å®‰è£…ã€‚
å®‰è£…åå®ƒä¼šè¯¢é—®ä½ æ˜¯å¦ä¿ç•™æä¾›è½¯ä»¶åŒ…çš„ä»“åº“ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¿ç•™ä»¥ä¾¿å¾—åˆ°æœªæ¥çš„æ›´æ–°ã€‚å¦‚æœä½ é”™è¿‡äº†ä¹Ÿæ²¡å…³ç³»ï¼Œä½ å¯ä»¥ä½¿ç”¨æ–¹æ³•2ä¸­çš„åšæ³•æ¥æ·»åŠ ä»“åº“ã€‚
æ­¤å¤–ï¼Œä½ å¯èƒ½æƒ³æŸ¥çœ‹ yast ä¸­ å¼•å¯¼åŠ è½½å™¨ çš„è®¾ç½®æ¥ç¡®ä¿ç”¨ä¸Šäº†æ–°çš„å†…æ ¸ã€‚ç‰¹åˆ«æ˜¯å½“ä½ è®¾ç½®äº†å¼•å¯¼åŠ è½½ç¨‹åºé€‰é¡¹ä¸­çš„è¶…æ—¶ä¸º 0 æ—¶ä¸”åˆæ²¡æœ‰ä¿®æ”¹é»˜è®¤å¼•å¯¼é¡¹ã€‚åŒæ—¶æˆ‘è¿˜å»ºè®®å‡ºäºå®‰å…¨åŸå› ä¿ç•™åŸæ¥çš„å†…æ ¸ï¼Œä»¥å…ç´§æ€¥æƒ…å†µæ²¡æ— æ³•æ­£å¸¸çš„å¯åŠ¨ã€‚
openSUSE æ”¯æŒ secure bootï¼ˆè¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨ UEFI ä¸­ä¿®æ”¹ Secure Boot é€‰é¡¹çš„åŸå› ï¼‰ã€‚ä½ å®‰è£…åçš„ç¬¬ä¸€æ¬¡å¯åŠ¨ä¼šéœ€è¦é€‰æ‹© Enroll MOK å¹¶è¾“å…¥ä½  root ç”¨æˆ·å¯†ç ã€‚
ä¹‹å æ­å–œä½ ï¼ ç°åœ¨ä½ æœ‰äº†ä¸€å°è¿è¡Œ Linux çš„ Surface è®¾å¤‡ã€‚
åœ¨ä½ å®Œæˆäº†å®‰è£…æ­¥éª¤ä¹‹åï¼Œä»¥ä¸‹äº‹é¡¹æ˜¯ä½ åº”è¯¥è€ƒè™‘çš„ï¼š
æ­£å¦‚æˆ‘æ‰€åšçš„ä¸€æ ·ï¼Œä½ ä¹Ÿè®¸è¯¥è€ƒè™‘è®¢é˜… Announcements and updates . ä¾‹å¦‚ï¼Œåœ¨ Changes in v6.1.18 / v6.2.5 ä¸­ï¼Œ atomisp å¯¼è‡´äº†ä¸€å° Surface 3 è®¾å¤‡æ— æ³•å¯åŠ¨ï¼Œå¼€å‘è€…ä»¬æš‚æ—¶åœç”¨äº†å®ƒã€‚åŸºäºç¨³å®šæ€§çš„è€ƒé‡ï¼Œä½ ä¹Ÿåº”è¯¥äº†è§£æœ€æ–°çš„å˜åŒ–ã€‚
ç”± mwifiex å¯¼è‡´çš„æ— çº¿é—®é¢˜åœ¨æœ€è¿‘çš„å†…æ ¸ä¸­åº”è¯¥ä¼šæ˜¾è‘—å‡å°‘ï¼Œå¦‚æœä»ç„¶é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒï¼ˆæš‚æ— ç¿»è¯‘ï¼‰ï¼š
Marvell 88W8897 Quirks Known Issues and FAQ å¦‚æœå£°éŸ³è´¨é‡ä¸å¥½ï¼Œä½ å¤§æ¦‚ç‡éœ€è¦è°ƒæ•´ä½äº/etc/pulse/daemon.conf çš„ Pulse Audio è®¾ç½®ï¼Œå¹¶è®¾ç½® speex-float-5 .
ä¸€ä¸‹é¢å¤–çš„è½¯ä»¶åŒ…ä½ å¯èƒ½æ„Ÿå…´è¶£ï¼š
iptsd æä¾›ç¬”çš„æ”¯æŒï¼Œç›®å‰éœ€è¦ä»æºç ç¼–è¯‘ libwacom-surface gnome ç¯å¢ƒä¸‹æä¾›æ›´å¥½çš„ç¬”å’Œè§¦æ§æ”¯æŒï¼Œç›®å‰éœ€è¦ä»æºç ç¼–è¯‘ã€‚ å¦‚æœä½ ä½¿ç”¨ Surface Book 2:
surface-dtx-daemon å…è®¸ä½ æ›´å¥½çš„æ§åˆ¶å±å¹•é”®ç›˜åˆ†ç¦»ï¼Œç›®å‰éœ€è¦ä»æºç ç¼–è¯‘ã€‚ surface-control å…è®¸ä½ æ›´å¥½åœ°æ§åˆ¶ç‹¬æ˜¾ï¼Œç›®å‰éœ€è¦ä»æºç ç¼–è¯‘ã€‚ å¯¹ç›¸æœºçš„æ”¯æŒä»åœ¨è¿›è¡Œä¸­ã€‚ä¸€äº›è®¾å¤‡ï¼ˆç‰¹åˆ«æ˜¯ Surface Book and Book 2, Pro 4, 5, and 6, ä»¥åŠ Go å’Œ Go 2 è®¾å¤‡ï¼‰éœ€è¦ä½ ç¼–è¯‘å¹¶å®‰è£… libcamera ( ç›¸å…³æ­¥éª¤ ). å…·ä½“æ”¯æŒçš„è®¾å¤‡è¯·æŸ¥çœ‹ é™„å½•ï¼šç›¸æœº ã€‚æƒ³äº†è§£æ›´å¤šï¼Œä½ å¯ä»¥æŸ¥çœ‹æ­£åœ¨è¿›è¡Œçš„è®¨è®º Camera support #91 .
è®¾ç½®ä½ çš„æ—¶é’Ÿä¸ºæœ¬åœ°æ—¶é—´æ¥è§£å†³åŒç³»ç»Ÿåå·® sudo timedatectl set-local-rtc 1 sudo hwclock --systohc --localtime è§¦æ§æ”¯æŒ åœ¨ä¸€äº›æ¯”è¾ƒæ—§çš„è®¾å¤‡ä¸Šçš„è§¦æ‘¸å±è¢«ç§°ä½œ Intel Precise Touch &amp; Stylus ï¼ˆç®€ç§° IPTSï¼‰ã€‚æ–°ä¸€äº›çš„è®¾å¤‡åˆ™ç§°ä½œ Intel Touch Host Controllerï¼ˆç®€ç§° ITHCï¼‰ã€‚é™¤äº† Go äº§å“çº¿ï¼Œä» Surface Pro 4å¼€å§‹çš„æ‰€æœ‰åŸºäºè‹±ç‰¹å°”çš„è®¾å¤‡éƒ½ä½¿ç”¨ IPTS æˆ– ITHC.
ä¸ºäº†æ ¡å‡†ä½ çš„å±å¹•ï¼Œä½ å¯ä»¥æŸ¥çœ‹ é™„å½•ï¼šæ ¡å‡† IPTS ã€‚
å¦‚æœä½ æƒ³è¦ä½¿ç”¨è§¦å±æ‰‹åŠ¿ï¼ˆè§¦æ‘¸æ»šåŠ¨ï¼Œç¼©æ”¾ç­‰ï¼‰ï¼Œä½ éœ€è¦çŸ¥é“ä¸€äº›åŸºæœ¬çŸ¥è¯†ï¼š
æ‚¨åº”è¯¥ç¡®ä¿è¿è¡Œçš„æ˜¯ Wayland æ¡Œé¢ä¼šè¯ï¼Œè€Œä¸æ˜¯ X11/Xorg ä¼šè¯ã€‚Wayland æœ‰å¯¹è§¦æ‘¸è¾“å…¥çš„åŸç”Ÿæ”¯æŒï¼Œè€Œ Xorg æœ¬è´¨ä¸Šæ˜¯åœ¨ä½ è§¦æ‘¸å±å¹•æ—¶æ¨¡æ‹Ÿé¼ æ ‡æŒ‡é’ˆã€‚æ‚¨å¯ä»¥åœ¨ç³»ç»Ÿçš„ç™»å½•å±å¹•ä¸Šé€‰æ‹©ä¼šè¯ç±»å‹ã€‚
é‡è¦çš„æ˜¯ï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºä¹Ÿè¦åœ¨ Wayland ä¸Šè¿è¡Œã€‚å¦‚æœæ¡Œé¢è¿è¡Œåœ¨ Wayland ä¸Šï¼Œä½†åº”ç”¨ç¨‹åºä½¿ç”¨ XWayland å…¼å®¹å±‚ï¼ŒX11 åè®®å†æ¬¡æˆä¸ºé™åˆ¶å› ç´ ã€‚è¦æ£€æŸ¥åº”ç”¨ç¨‹åºæ˜¯å¦è¿è¡Œåœ¨ X11 æˆ– Wayland ä¸Šï¼Œè¯·åœ¨ç»ˆç«¯çª—å£ä¸­è¿è¡Œ xkillï¼Œç„¶åå•å‡»åº”ç”¨ç¨‹åºçš„çª—å£ã€‚å¦‚æœå®ƒå…³é—­ï¼Œåº”ç”¨ç¨‹åºè¿è¡Œåœ¨ X11 ä¸Šï¼Œå¦‚æœä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿï¼Œå®ƒè¿è¡Œåœ¨ Wayland ä¸Šã€‚
æ‰‹åŠ¿åŠŸèƒ½éƒ½ä¾èµ–äºä½ æ­£åœ¨è¿è¡Œçš„è½¯ä»¶ã€‚è¿™åŒ…æ‹¬åº”ç”¨ç¨‹åºï¼ˆå¦‚ Firefoxï¼‰å’Œæ¡Œé¢ç¯å¢ƒï¼ˆå¦‚GNOMEï¼‰ã€‚é©±åŠ¨ç¨‹åºåªèƒ½å‘åº”ç”¨ç¨‹åºæä¾›ä¸€ç»„è¾“å…¥åæ ‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿçš„è¡Œä¸ºæŠŠä½ çš„ä¸€æ¬¡è§¦æ‘¸ç®—ä½œä¸€æ¬¡é¼ æ ‡ç‚¹å‡»ï¼Œæˆ–è€…å½“ä½ å•æŒ‡æ‹–æ‹½æ—¶ç®—ä½œä½¿ç”¨é¼ æ ‡æ‹–æ‹½ã€‚
Firefox å¦‚æœ Firefox è¿è¡Œåœ¨ Wayland ä¸Šï¼Œå®ƒé»˜è®¤æ”¯æŒè§¦æ‘¸è¾“å…¥ã€‚å¦‚æœæ‚¨æ­£åœ¨è¿è¡Œä¸€ä¸ª Wayland ä¼šè¯ï¼Œè¯·å°† MOZ_ENABLE_WAYLAND=1 æ·»åŠ åˆ° /etc/environment ï¼ˆä¸€äº›å‘è¡Œç‰ˆé»˜è®¤è¿™æ ·åšï¼‰ã€‚å¦‚æœæ­£åœ¨è¿è¡Œ X11 ä¼šè¯ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ MOZ_USE_XINPUT2=1. ä¸ºäº†æ”¹å–„ç¼©æ”¾è¡Œä¸ºï¼Œä½ å¯ä»¥åœ¨ about:config é¡µé¢å¯ç”¨ apz.allow_zoom.
Visual Studio Code ä½¿ç”¨å‘½ä»¤è¡Œæ—¶æ·»åŠ  --touch-events. å¦ä¸€ç§æ–¹æ³•æ˜¯ç¼–è¾‘ /usr/share/applications/code.desktop å¹¶åœ¨ Exec è¡Œä¸­æ·»åŠ æ”¹é€‰é¡¹
è¿™å¯èƒ½ä¹Ÿé€‚ç”¨äºå…¶ä»–åŸºäº Electron çš„åº”ç”¨ç¨‹åºã€‚
é™„å½• é™„å½•å†…å®¹ç¿»è¯‘æ—¶é—´ï¼š2023-03-20
ç‰¹æ€§è¡¨ ä¸æ˜¯æ‰€æœ‰çš„ç‰¹æ€§åœ¨æ¯å°è®¾å¤‡ä¸Šéƒ½å®ç°äº†ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ Supported Devices and Features âœ“ - è¯¥ç‰¹æ€§å¾—åˆ°äº†æ”¯æŒã€‚ ? - æœªçŸ¥ï¼Œä½ å¯ä»¥è‡ªè¡Œæ›´æ–°æ£€æŸ¥ã€‚ âŒ - è¯¥ç‰¹æ€§æœªè¢«æ”¯æŒåˆ‡ä¸ä¼šå·¥ä½œã€‚ N/A - è¯¥ç‰¹æ€§è®¾å¤‡æœ¬èº«å°±ä¸æ”¯æŒã€‚ ğŸ§ª - å®éªŒä¸­ã€‚è¯¥ç‰¹æ€§ç›®å‰ç”±å®éªŒæ€§ä»£ç æ”¯æŒã€‚ Surface Tablets è®¾å¤‡ S3 SGO SGO2 SGO3 SP1 SP2 SP3 SP4 SP5 SP6 SP7 SP7+ SP8 SP9(I)Â¹â¹ é”®ç›˜ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“Â¹ âœ“Â¹ è§¦æ‘¸æ¿ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“Â¹ âœ“Â¹ å¹³æ¿æ¨¡å¼ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“Â¹ è§¦æ‘¸å± âœ“âµ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ ç¬” âœ“âµ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ WiFi âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ LTE âœ“âµ âœ“â· âœ“â· âœ“â· N/A N/A N/A N/A âœ“â· N/A N/A âœ“ âœ“ N/A è“ç‰™ âœ“Â¹âµ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“Â¹âµ âœ“Â¹âµ âœ“Â¹âµ âœ“Â¹âµ âœ“ âœ“ âœ“ âœ“ å–‡å­ âœ“âµ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ æŒ‰é’® âœ“ âœ“ âœ“ âœ“Â¹ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“Â² âœ“Â² âœ“ âœ“Â¹ SD å¡è¯»å–å™¨ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ N/A N/A å¾…æœº (Suspend) âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ ä¼‘çœ (Hibernate) âœ“Â¹ âœ“ ? âŒ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ ? âœ“Â¹â¹ S0ixÂ³ âœ“ ? âœ“ âœ“ N/A N/A âœ“ âœ“ âœ“ âœ“ âœ“ ? âœ“ âœ“Â²Â¹ ä¼ æ„Ÿå™¨ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ ? âœ“Â¹â· ? ç”µæ± çŠ¶æ€ âœ“âµ âœ“ âœ“ âœ“Â¹ âœ“ âœ“ âœ“ âœ“ âœ“â¸ âœ“â¸ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ æ€§èƒ½æ¨¡å¼ âŒ âŒ âŒ âœ“ âŒ âŒ âŒ âŒ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ ç›¸æœº âŒ Â¹â° Â¹â° Â¹â° âœ“ âœ“ âœ“ Â¹â° Â¹â° Â¹â° âŒ âŒ âŒ âŒ Surface Books å’Œ Surface Laptop Studio è®¾å¤‡ SB SB2 SB3 SLS é”®ç›˜ âœ“ âœ“ âœ“â¹ âœ“â¹ è§¦æ‘¸æ¿ âœ“ âœ“ âœ“â¹ âœ“Â¹Â² å¹³æ¿æ¨¡å¼ âœ“ âœ“ âœ“ âœ“Â¹â¶ è§¦æ‘¸å± âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ ç¬” âœ“Â¹ âœ“Â¹ âœ“Â¹ âœ“Â¹ WiFi âœ“ âœ“ âœ“ âœ“ è“ç‰™ âœ“Â¹âµ âœ“Â¹âµ âœ“ âœ“ å–‡å­ âœ“ âœ“ âœ“ âœ“ æŒ‰é’® âœ“ âœ“ âœ“ âœ“ SD å¡è¯»å–å™¨ âœ“ âœ“ âœ“ N/A å¾…æœº âœ“ âœ“ âœ“ âœ“ ä¼‘çœ  âœ“ âœ“ âœ“ âœ“ S0ix Â³ ? âœ“Â¹ ? âœ“ ä¼ æ„Ÿå™¨ âœ“ âœ“ ? âœ“ ç”µé‡çŠ¶æ€ âœ“ âœ“â¸ âœ“â¹ âœ“â¹ æ€§èƒ½æ¨¡å¼ âŒ âœ“â¸ âœ“â¹ âœ“â¹ ç‹¬æ˜¾ âœ“Â¹ âœ“â¹ âœ“â¹ âœ“ ç›¸æœº Â¹â° Â¹â° âŒ âœ“ Surface Laptops è®¾å¤‡ SL SL2 SL3(A) SL3(I) SL4(A) SL4(I) SL5Â¹â¹ SLG SLG2 SLSE é”®ç›˜ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“Â²â° âœ“ âœ“ âœ“ è§¦æ‘¸æ¿ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“Â²â° âœ“ âœ“ âœ“ è§¦æ‘¸å± âœ“Â¹ âœ“Â¹ âŒ âœ“Â¹ âŒ âœ“Â¹ âœ“Â¹ âœ“ âœ“ N/A ç¬” âœ“Â¹ âœ“Â¹ âŒ âœ“Â¹ âŒ âœ“Â¹ âœ“Â¹ N/A N/A N/A WiFi âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ ? âœ“ âœ“ âœ“ è“ç‰™ âœ“Â¹âµ âœ“Â¹âµ âœ“ âœ“ âœ“ âœ“ ? âœ“ âœ“ âœ“ å–‡å­ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ ? âœ“ âœ“ âœ“ æŒ‰é’® âœ“ âœ“ âœ“Â² âœ“Â² âœ“Â¹ âœ“Â¹ ? âœ“ âœ“ âœ“ å¾…æœº âœ“ âœ“ â´ âœ“ ? ? Â¹â¹ âœ“ âœ“ âœ“ ä¼‘çœ  âœ“ âœ“ âœ“ âœ“ ? ? ? âœ“ âœ“ âœ“ S0ixÂ³ âœ“ âœ“ âœ“ âœ“ âœ“Â¹Â¹ ? ? âœ“ âœ“ ? ä¼ æ„Ÿå™¨ âœ“ âœ“ âœ“ âŒ âœ“ ? ? âœ“ âœ“ âœ“ ç”µé‡çŠ¶æ€Å£ âœ“â¸ âœ“â¸ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“ âœ“â¹ âœ“Â¹â¸ âœ“ æ€§èƒ½æ¨¡å¼ âœ“â¸ âœ“â¸ âœ“â¹ âœ“â¹ âœ“â¹ âœ“â¹ âœ“Â²â° âœ“â¹ âœ“Â¹â¸ ? ç›¸æœº âŒ âŒ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ âœ“ Â¹ éœ€è¦ Linux-Surface å†…æ ¸ Â² éœ€è¦ Linux 5.4+ ï¼ˆåŒ…æ‹¬ Ubuntu 20.04+ ï¼ˆæ­¤å‰çš„ç‰ˆæœ¬ä¸ç¡®å®šï¼‰ Â³ ä¹Ÿè¢«ç§°ä½œã€Œç°ä»£å¾…æœºã€(&ldquo;Modern Standby&rdquo; / &ldquo;Connected Standby&rdquo;) â´ å¾…æœºï¼Œä½†æ˜¯åªä¼šå”¤é†’å¤–ç½®é”®ç›˜ âµ è®¿é—® Surface 3 æŸ¥çœ‹è¯¦æƒ… â· æŸ¥çœ‹ æ­¤é¡µ æŸ¥çœ‹è®¾ç½®ä¿¡æ¯ â¸ éœ€è¦ Linux 5.12+ æˆ– Linux-Surface å†…æ ¸ â¹ éœ€è¦ linux 5.13+ æˆ– Linux-Surface å†…æ ¸ Â¹â° ç›¸æœºæ”¯æŒæ­£åœ¨å¼€å‘ä¸­ Â¹Â¹ éƒ¨åˆ†æ”¯æŒä¸”éœ€è¦é¢å¤–è¡¥ä¸ #458 Â¹Â² éœ€è¦ä¸€äº›å¯¹ libinput çš„é¢å¤–æ“ä½œã€‚ æŸ¥çœ‹ è¿™é‡Œ è·å¾—è¯¦ç»†ä¿¡æ¯ã€‚ Â¹âµ Marvell Wi-Fi/è“ç‰™èŠ¯ç‰‡æœ‰ç¡¬ä»¶ä¸Šçš„ç¼ºé™·ï¼Œå¦‚æœè“ç‰™æˆ–è€…ä»»ä½•ä½ç”µé‡è®¾å¤‡é…å¯¹ï¼ˆä¸æ˜¯è¿æ¥ï¼‰é‚£ä¹ˆç³»ç»Ÿçš„ä½ç”µé‡è®¾ç½®å°†ä¸ä¼šç”Ÿæ•ˆã€‚ ä¸ºäº†æœ€å¥½çš„ç”µæ± å¯¿å‘½ï¼Œç¡®ä¿ä¸è¦é…å¯¹ä»»ä½•çš„ä½ç”µé‡è“ç‰™è®¾å¤‡ï¼ˆåŒ…æ‹¬ Surface Penï¼‰ã€‚ Â¹â¶ éœ€è¦ Linux-Surface å†…æ ¸ â‰¥ 5.18.4 Â¹â· éœ€è¦ Linux-Surface å†…æ ¸ â‰¥ 5.18.7 Â¹â¸ éœ€è¦ Linux-Surface å†…æ ¸ â‰¥ 5.18.10 Â¹â¹ å¯¹äº 12 ä»£å› ç‰¹å°”è®¾å¤‡æœ‰ä¸€äº›ä¼šå½±å“åˆ°å¾ˆå¤šæ­è½½é‚£ä»£èŠ¯ç‰‡çš„ Surface è®¾å¤‡ï¼Œå‚è€ƒ Intel-12th-Generation-Devices-Issues è·å–æ›´å¤šçš„ä¿¡æ¯ã€‚ Â²â° éœ€è¦ Linux-Surface å†…æ ¸ â‰¥ 6.0.8-3 Â²Â¹ s0ix çš„è¡¨ç°è¿è¡Œæ—¶å±å¹•å…³é—­çš„æ—¶å€™ç›¸å½“å·®åŠ²åœ¨ï¼ˆç”± S0ixSelftestTool æµ‹è¯•ï¼‰ ç£ç›˜åŠ å¯† åœ¨é”®ç›˜é€šè¿‡ Surface Aggregator Module è¿æ¥çš„è®¾å¤‡ä¸Šï¼Œå³ Surface Laptop 2ã€3å’Œ4ï¼ŒSurface Book 3 ä»¥åŠ Surface Laptop Studioï¼Œæ‚¨éœ€è¦ç¡®ä¿æ‰€éœ€çš„é©±åŠ¨ç¨‹åºåŒ…å«åœ¨ initramfs/initrd ä¸­ã€‚
è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½ éœ€è¦ç¡®ä¿ initramfs/initrd ä¸­åŒ…å«ä»¥ä¸‹æ¨¡å—ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡æŸ¥çœ‹ mkinitcpio.confæˆ–ç±»ä¼¼çš„å†…å®¹ï¼Œè¿™å–å†³äºä½ ä½¿ç”¨çš„å‘è¡Œç‰ˆï¼‰ï¼š
surface_aggregator, surface_aggregator_registry, surface_aggregator_hub, surface_hid_core 8250_dw ï¼ˆç”¨äºå’ŒåµŒå…¥å¼æ§åˆ¶å™¨é€šä¿¡ï¼‰ å–å†³äºä½ çš„ Surface å‹å·
surface_hid ï¼ˆSurface Laptop 3/Surface Book 3 æˆ–æ˜¯æ›´æ–°çš„è®¾å¤‡ï¼‰ surface_kbd (Surface Laptop 1 and 2). æ ¹æ®ç¼–è¯‘è¿›çš„ GPIO æ”¯æŒ, ä½ å¯èƒ½è¿˜éœ€è¦åŒ…æ‹¬ä»¥ä¸‹æ¨¡å—ï¼š
pinctrl_amd ï¼ˆä»…å¯¹ AMD å‹å·ï¼‰ intel_lpss å’Œ intel_lpss_pci ï¼ˆä»…å¯¹ Intel å‹å·ï¼‰ pinctrl_icelake å¯¹äº Ice Lake çš„ Intel CPU (Surface Laptop 3/Surface Book 3) pinctrl_tigerlake å¯¹äº Tiger Lake çš„ Intel CPUs (Surface Laptop 4/Surface Laptop Studio) è¦å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯æ‰€æœ‰é‡æ–°æ„å»º initramfs çš„æ“ä½œéƒ½è¦åœ¨ä» Linux-Surface å†…æ ¸ä¸Šå¯åŠ¨çš„ç³»ç»Ÿä¸Šè¿›è¡Œã€‚
ç›¸æœº å³ä½¿è¢«æ ‡æ³¨ä¸ºâœ…æ”¯æŒï¼Œæˆåƒè´¨é‡ä¹Ÿè®¸è¿˜å¹¶ä¸é‚£ä¹ˆå¥½ã€‚ç®—æ³•è¿˜å¤„åœ¨è°ƒæ•´ä¸­ï¼Œä¹Ÿè®¸ç”šè‡³è¿˜éœ€è¦ä¸€äº›é’ˆå¯¹ç›¸æœºçš„ä¸“é—¨è°ƒæ•´ã€‚
Device ISP Front Back IR Surface Go IPU3 OV5693 âœ… OV8865 âœ… OV7251 ğŸš« Surface Go 2 IPU3 OV5693 âœ… OV8865 âœ… OV7251 ğŸš« Surface Go 3 IPU3 OV5693 âœ… OV8865 âœ… OV7251 ğŸš« Surface Pro 4 IPU3 OV5693 âœ… OV8865 âœ… OV7251 ğŸš« Surface Pro 5 IPU3 OV5693 âœ… OV8865 âœ… OV7251 ğŸš« Surface Pro 6 IPU3 OV5693 âœ… OV8865 âœ… OV7251 ğŸš« Surface Pro 7 IPU4 OV5693 ğŸš« OV8865 ğŸš« OV7251 ğŸš« Surface Book 1 IPU3 OV5693 âœ… OV8865 âœ… OV7251 ğŸš« Surface Book 2 13&rdquo; IPU3 OV5693 âœ… OV8865 âœ… OV7251 ğŸš« Surface Book 3 IPU4 OV5693 ğŸš« OV8865 ğŸš« OV7251 ğŸš« Surface Laptop 1 IPU3 OV9734 ğŸš« N/A OV7251 ğŸš« Surface Laptop 2 IPU3 OV9734 ğŸš« N/A OV7251 ğŸš« Surface Laptop 3 15&quot; AMD OV5693 âœ… N/A OV7251 âœ… Surface Pro 7 å’Œ the Surface Book 3 å› ä¸ºä½¿ç”¨ IPU4 ç›®å‰æ— æ³•è¢«æ”¯æŒã€‚
æ ¡å‡†IPTS iptsd çš„æ‰‹æŒè¯¯è§¦è¯†åˆ«ä¾èµ–äºæµ‹é‡æ¯ä¸ªæ¥è§¦çš„å¤§å°å’Œçºµæ¨ªæ¯”ï¼Œç„¶åå°†è¿™äº›å€¼ä¸å‚è€ƒè¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®å®šæ¥è§¦æ˜¯å¦æœ‰æ•ˆã€‚é»˜è®¤å€¼å°†è¯•å›¾è¦†ç›–å¤§å¤šæ•°äººçš„æ‰‹æŒå¤§å°ï¼Œä½†å¯ä»¥ï¼ˆå¹¶ä¸”å»ºè®®ï¼‰è°ƒæ•´è¿™äº›å€¼ä»¥æ›´å¥½åœ°åŒ¹é…æ‚¨çš„æ‰‹æŒã€‚è¿™ä¹Ÿå°†è¿›ä¸€æ­¥æ”¹å–„æ‰‹æŒ‡ä¸è¯†åˆ«ç°è±¡ã€‚
å€¼å¾—æ ¡å‡†çš„å€¼æœ‰:
SizeMinï¼ˆé»˜è®¤å€¼:0.2 cmï¼‰
SizeMaxï¼ˆé»˜è®¤å€¼:2.0 cmï¼‰
AspectMinï¼ˆé»˜è®¤å€¼:1.0ï¼‰
AspectMaxï¼ˆé»˜è®¤å€¼:2.5ï¼‰
è¦æ ¡å‡† iptsdï¼Œæ‚¨éœ€è¦æµ‹é‡è‡ªå·±æ‰‹æŒ‡çš„å¤§å°ï¼Œç„¶åå°†è¿™äº›å€¼è¾“å…¥å®ˆæŠ¤è¿›ç¨‹çš„é…ç½®æ–‡ä»¶ã€‚ç­‰ç­‰ï¼åœ¨ä½ ç¦»å¼€å¹¶æ‹¿èµ·ä¸€æŠŠå°ºå­(æˆ–è€…åªæ˜¯ç¦»å¼€)ä¹‹å‰ã€‚ä¸ºäº†ä½¿æµ‹é‡æ›´å®¹æ˜“ï¼ŒiptsdåŒ…å«äº†ä¸€ä¸ªå·¥å…·iptsd-calibrateï¼Œå¯ä»¥ä¸ºæ‚¨è¿›è¡Œè¿™äº›æµ‹é‡ã€‚
ä½ è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯åœæ­¢ iptsd :
sudo systemctl stop &#39;iptsd@*.service&#39; ç„¶åè¿è¡Œæµ‹é‡å·¥å…·ï¼š
sudo iptsd-calibrate $(sudo iptsd-find-hidraw) ä½ ä¼šçœ‹è§ç±»ä¼¼äºï¼š
[17:46:55.678] [info] Connected to device 045E:0021 [17:46:55.678] [info] Samples: 0 [17:46:55.678] [info] Size: 0.000 (Min: 0.000; Max: 0.000) [17:46:55.678] [info] Aspect: 0.000 (Min: 0.000; Max: 0.000) åªè¦ä½ è§¦æ‘¸æ˜¾ç¤ºå™¨ï¼Œiptsd å°±ä¼šæ›´æ–°ä¸€æ¬¡æ•°å€¼ã€‚ç°åœ¨å¯ä»¥å¼€å§‹å®é™…çš„æ ¡å‡†è¿‡ç¨‹ã€‚ç”¨æ¯æ ¹æ‰‹æŒ‡è§¦æ‘¸å±å¹•ï¼Œä¸€æ¬¡ç”¨åŠ›æŒ‰å‹ï¼Œä¸€æ¬¡è½»è½»æŒ‰å‹ã€‚ç„¶åæŠŠä½ æ‰€æœ‰çš„æ‰‹æŒ‡åŒæ—¶æ”¾åœ¨æ˜¾ç¤ºå™¨ä¸Šã€‚ä½ è¿˜åº”è¯¥åšä¸€äº›å¸¸ç”¨çš„æ‰‹åŠ¿ï¼Œæ¯”å¦‚ç”¨ä¸‰æ ¹æˆ–å››æ ¹æ‰‹æŒ‡æç¼©æ”¾æˆ–åœ¨å±å¹•ä¸Šæ»‘åŠ¨ï¼Œå› ä¸ºæ‰‹åŠ¿å¾€å¾€ä¼šä½¿æ¥è§¦å˜å½¢ã€‚å¦‚æœä½ åªæ˜¯å°†æ‰‹æŒ‡ç›´ç›´åœ°æŒ‰åœ¨æ˜¾ç¤ºå™¨ä¸Šï¼Œiptsd å¯ä»¥å¾ˆå¥½åœ°æ£€æµ‹åˆ°è§¦æ‘¸ï¼Œä½†æ— æ³•æ£€æµ‹åˆ°æ‰‹åŠ¿ã€‚
æ²¡æœ‰å¿…è¦è¿›è¡Œé•¿æ—¶é—´çš„æ¥è§¦ã€‚é•¿æ—¶é—´ä¿æŒæ‰‹æŒ‡åœ¨æ˜¾ç¤ºå™¨ä¸Šä¸ä¼šæé«˜æ ¡å‡†ç²¾åº¦ï¼Œå› ä¸ºä½ åªéœ€è¦ä¸€ä¸ªæœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ä½†å®ƒæœ‰å¯èƒ½åœ¨æ ¡å‡†è¿‡ç¨‹ä¸­å¼•å…¥å™ªå£°ï¼Œè¿™ä¼šæ‰­æ›²æœ€å°/æœ€å¤§å€¼ã€‚3000 åˆ° 4000 ä¸ªæ ·æœ¬åº”è¯¥è¶³å¤Ÿäº†ã€‚
ğŸ›ï¸æ³¨æ„ï¼šåœ¨æ ¡å‡†è¿‡ç¨‹ä¸­ï¼Œé˜²æ‰‹æŒè¯¯è§¦åŠŸèƒ½è¢«å…³é—­ï¼Œæ‰€ä»¥ä½ ä¸åº”è¯¥æŠŠä½ çš„æ‰‹æŒæ”¾åˆ°å±å¹•ä¸Šï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼ŒæŠŠä½ çš„å±å¹•ä¸é”®ç›˜åˆ†ç¦»ã€‚
å½“ä½ å®Œæˆæ ¡å‡†è¿‡ç¨‹åï¼Œä½ ä¼šåœ¨ä½ çš„ç»ˆç«¯çœ‹åˆ°ç±»ä¼¼äºï¼š
[17:46:55.678] [info] Connected to device 045E:0021 [17:46:57.186] [info] Samples: 3629 [17:46:57.186] [info] Size: 0.636 (Min: 0.425; Max: 0.859) [17:46:57.187] [info] Aspect: 1.298 (Min: 1.021; Max: 2.323) çš„å†…å®¹ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æ–°çš„å€¼å°†ä¼šæ˜¯ï¼š
SizeMin: 0.425 cm SizeMax: 0.859 cm AspectMin: 1.021 AspectMax: 2.323 æ–°å»ºä¸€ä¸ªæ–‡ä»¶ /etc/iptsd.d/90-calibration.conf, å¹¶è¾“å…¥ç±»ä¼¼äºä»¥ä¸‹çš„å†…å®¹ï¼š
[Contacts] SizeMin = 0.425 SizeMax = 0.859 AspectMin = 1.021 AspectMax = 2.323 ç»“æŸä¹‹åï¼Œä½ å¯ä»¥é‡å¯ iptsd å¹¶è¯•ä¸€è¯•ä½ æ–°æ ¡å‡†çš„å€¼ã€‚
sudo systemctl start $(sudo iptsd-find-service) å¦‚æœä½ å‘ç° iptsd æ²¡æœ‰è¯†åˆ«åˆ°æŸä¸ªæ‰‹åŠ¿æˆ–æ¥è§¦ï¼Œä½ åº”è¯¥é‡å¤è¿™ä¸€è¿‡ç¨‹å¹¶åªåšæœ‰é—®é¢˜çš„æ‰‹åŠ¿ã€‚å¹¶æ¯”è¾ƒæ–°æ—§æ•°å€¼ï¼Œæœ€ååšç›¸åº”è°ƒæ•´ã€‚
å°¾å£°â€”â€”æˆ‘éœ€è¦å¸®åŠ© æˆ‘éœ€è¦ä¸€äº›æ‰“åŒ…æ–¹é¢çš„å¸®åŠ©ï¼Œiptsd æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„åŒ…ï¼Œä½†æ˜¯æˆ‘æ‰“åŒ…å®ƒçš„æ—¶å€™é‡åˆ°äº†ä¸€äº›å›°éš¾ï¼Œä¸»è¦æ˜¯ç”±äº OBS æ— æ³•ä¸‹è½½ microsoft-gsl åº“è€Œæˆ‘æ‰“åŒ… microsoft-gsl åº“ä¹Ÿé‡åˆ°äº†å›°éš¾é€ æˆçš„ã€‚å¦‚æœä½ æœ‰å…´è¶£ï¼Œä½ å¯ä»¥çœ‹çœ‹ OBS ä¸Šçš„ home:TaivasJumala:Surface .
Microsoft Surface è®¾å¤‡ &#160;&#x21a9;&#xfe0e;
Portal:Tumbleweed - openSUSE Wiki &#160;&#x21a9;&#xfe0e;
æ ¹æ®æˆ‘åœ¨ Linux-Surface Dev é¢‘é“ä¸å¼€å‘è€…æ²Ÿé€šçš„è¯´æ³•ï¼Œæœªæ¥æœ‰æƒ³æ³•æ›´æ–° Wiki ä»¥æé«˜å¯è¯»æ€§ã€‚åŒæ—¶ï¼Œç›®å‰çš„é¡µé¢ç»„ç»‡æ–¹å¼ä¸é€‚åˆæä¾›å¤šè¯­è¨€æŒ‡å¯¼ï¼Œä¹Ÿæ˜¯æš‚æ—¶åœ¨æ­¤å¤„å‘å¸ƒä¸­æ–‡è¯´æ˜çš„åŸå› ã€‚&#160;&#x21a9;&#xfe0e;
ä»¥ä¸‹èµ„æ–™æˆ–è®¸èƒ½å¸®åŠ©ä½ è§£å†³ BitLocker é€ æˆçš„å›°æ‰°ï¼š
BitLocker | Microsoft Learn åœ¨ Windows ä¸­æŸ¥æ‰¾ BitLocker æ¢å¤å¯†é’¥ &#160;&#x21a9;&#xfe0e;
]]></content></entry><entry><title>ç«™ç‚¹ç¤ºä¾‹</title><url>/flinks.html</url><categories/><tags/><content type="html">å¦‚æƒ³äº¤æ¢æœ¬ç«™å‹æƒ…é“¾æ¥ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„ç«™ç‚¹ä¿¡æ¯ï¼Œæ ¼å¼å‚è€ƒå¦‚ä¸‹ï¼š
- name: Hugo-NexT desc: Hugo NexT å®˜æ–¹é¢„è§ˆç½‘ç«™ã€‚ avatar: https://hugo-next.eu.org/imgs/hugo_next_avatar.png link: https://hugo-next.eu.org</content></entry></search>